module.exports=[49221,a=>{"use strict";a.s(["default",()=>a$],49221);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(53250),f=a.i(70106);let g=(0,f.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),h=(0,f.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j=c.default.createContext&&c.default.createContext(i),k=["attr","size","title"];function l(){return(l=Object.assign.bind()).apply(this,arguments)}function m(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?m(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):m(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function o(a){return b=>c.default.createElement(p,l({attr:n({},a.attr)},b),function a(b){return b&&b.map((b,d)=>c.default.createElement(b.tag,n({key:d},b.attr),a(b.child)))}(a.child))}function p(a){var b=b=>{var d,{attr:e,size:f,title:g}=a,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,k),i=f||b.size||"1em";return b.className&&(d=b.className),a.className&&(d=(d?d+" ":"")+a.className),c.default.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,e,h,{className:d,style:n(n({color:a.color||b.color},b.style),a.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),g&&c.default.createElement("title",null,g),a.children)};return void 0!==j?c.default.createElement(j.Consumer,null,a=>b(a)):b(i)}function q(a){return o({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 12H3"},child:[]},{tag:"path",attr:{d:"M16 6H3"},child:[]},{tag:"path",attr:{d:"M16 18H3"},child:[]},{tag:"path",attr:{d:"M18 9v6"},child:[]},{tag:"path",attr:{d:"M21 12h-6"},child:[]}]})(a)}function r(a){return o({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(a)}function s(a){return o({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(a)}function t({isVisible:a,onSubmit:d,onCancel:e,isLoading:f=!1,placeholder:g="Ask a question about the selected verses..."}){let[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),n=(0,c.useRef)(null);(0,c.useEffect)(()=>{a?(m(!0),setTimeout(()=>k(!0),10),setTimeout(()=>{n.current&&n.current.focus()},150)):(k(!1),setTimeout(()=>m(!1),300))},[a]),(0,c.useEffect)(()=>{n.current&&(n.current.style.height="auto",n.current.style.height=`${n.current.scrollHeight}px`)},[h]);let o=()=>{h.trim()&&!f&&(d(h.trim()),i(""))};return l?(0,b.jsx)("div",{className:`fixed bottom-0 left-0 right-0 z-50 transition-all duration-300 ease-out ${j?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:(0,b.jsx)("div",{className:"bg-gradient-to-t from-white dark:from-stone-900 via-white dark:via-stone-900 to-transparent pt-8 pb-6",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,b.jsxs)("div",{className:`bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-600 rounded-3xl shadow-lg p-4 transition-all duration-300 ease-out transform ${j?"scale-100 blur-0":"scale-95 blur-sm"}`,children:[(0,b.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("textarea",{ref:n,value:h,onChange:a=>i(a.target.value),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),o()),"Escape"===a.key&&(e(),i(""))},placeholder:g,className:"w-full resize-none border-0 outline-none text-base leading-6 placeholder-stone-500 dark:placeholder-stone-400 bg-transparent text-stone-900 dark:text-stone-100 max-h-32 min-h-[28px]",rows:1,disabled:f})}),(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("button",{onClick:o,disabled:!h.trim()||f,className:"flex items-center justify-center w-8 h-8 bg-stone-900 dark:bg-stone-100 hover:bg-stone-800 dark:hover:bg-stone-200 disabled:bg-stone-300 dark:disabled:bg-stone-600 disabled:cursor-not-allowed text-white dark:text-stone-900 rounded-full transition-all",children:f?(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,b.jsx)(s,{className:"w-4 h-4"})})})]}),(0,b.jsx)("div",{className:"mt-2 text-xs text-stone-400 dark:text-stone-500",children:"Press Enter to send, Shift+Enter for new line, Esc to close"})]})})})}):null}var u=a.i(46271),v=a.i(62036);let w=(a,b)=>{if(0===a.length)return b.classGroupId;let c=a[0],d=b.nextPart.get(c),e=d?w(a.slice(1),d):void 0;if(e)return e;if(0===b.validators.length)return;let f=a.join("-");return b.validators.find(({validator:a})=>a(f))?.classGroupId},x=/^\[(.+)\]$/,y=(a,b,c,d)=>{a.forEach(a=>{if("string"==typeof a){(""===a?b:z(b,a)).classGroupId=c;return}if("function"==typeof a)return A(a)?void y(a(d),b,c,d):void b.validators.push({validator:a,classGroupId:c});Object.entries(a).forEach(([a,e])=>{y(e,z(b,a),c,d)})})},z=(a,b)=>{let c=a;return b.split("-").forEach(a=>{c.nextPart.has(a)||c.nextPart.set(a,{nextPart:new Map,validators:[]}),c=c.nextPart.get(a)}),c},A=a=>a.isThemeGetter,B=/\s+/;function C(){let a,b,c=0,d="";for(;c<arguments.length;)(a=arguments[c++])&&(b=D(a))&&(d&&(d+=" "),d+=b);return d}let D=a=>{let b;if("string"==typeof a)return a;let c="";for(let d=0;d<a.length;d++)a[d]&&(b=D(a[d]))&&(c&&(c+=" "),c+=b);return c},E=a=>{let b=b=>b[a]||[];return b.isThemeGetter=!0,b},F=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,G=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H=/^\d+\/\d+$/,I=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,K=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,N=a=>H.test(a),O=a=>!!a&&!Number.isNaN(Number(a)),P=a=>!!a&&Number.isInteger(Number(a)),Q=a=>a.endsWith("%")&&O(a.slice(0,-1)),R=a=>I.test(a),S=()=>!0,T=a=>J.test(a)&&!K.test(a),U=()=>!1,V=a=>L.test(a),W=a=>M.test(a),X=a=>!Z(a)&&!ad(a),Y=a=>ak(a,ao,U),Z=a=>F.test(a),$=a=>ak(a,ap,T),_=a=>ak(a,aq,O),aa=a=>ak(a,am,U),ab=a=>ak(a,an,W),ac=a=>ak(a,as,V),ad=a=>G.test(a),ae=a=>al(a,ap),af=a=>al(a,ar),ag=a=>al(a,am),ah=a=>al(a,ao),ai=a=>al(a,an),aj=a=>al(a,as,!0),ak=(a,b,c)=>{let d=F.exec(a);return!!d&&(d[1]?b(d[1]):c(d[2]))},al=(a,b,c=!1)=>{let d=G.exec(a);return!!d&&(d[1]?b(d[1]):c)},am=a=>"position"===a||"percentage"===a,an=a=>"image"===a||"url"===a,ao=a=>"length"===a||"size"===a||"bg-size"===a,ap=a=>"length"===a,aq=a=>"number"===a,ar=a=>"family-name"===a,as=a=>"shadow"===a;Symbol.toStringTag;let at=function(a,...b){let c,d,e,f=function(h){let i;return d=(c={cache:(a=>{if(a<1)return{get:()=>void 0,set:()=>{}};let b=0,c=new Map,d=new Map,e=(e,f)=>{c.set(e,f),++b>a&&(b=0,d=c,c=new Map)};return{get(a){let b=c.get(a);return void 0!==b?b:void 0!==(b=d.get(a))?(e(a,b),b):void 0},set(a,b){c.has(a)?c.set(a,b):e(a,b)}}})((i=b.reduce((a,b)=>b(a),a())).cacheSize),parseClassName:(a=>{let{prefix:b,experimentalParseClassName:c}=a,d=a=>{let b,c,d=[],e=0,f=0,g=0;for(let c=0;c<a.length;c++){let h=a[c];if(0===e&&0===f){if(":"===h){d.push(a.slice(g,c)),g=c+1;continue}if("/"===h){b=c;continue}}"["===h?e++:"]"===h?e--:"("===h?f++:")"===h&&f--}let h=0===d.length?a:a.substring(g),i=(c=h).endsWith("!")?c.substring(0,c.length-1):c.startsWith("!")?c.substring(1):c;return{modifiers:d,hasImportantModifier:i!==h,baseClassName:i,maybePostfixModifierPosition:b&&b>g?b-g:void 0}};if(b){let a=b+":",c=d;d=b=>b.startsWith(a)?c(b.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:b,maybePostfixModifierPosition:void 0}}if(c){let a=d;d=b=>c({className:b,parseClassName:a})}return d})(i),sortModifiers:(a=>{let b=Object.fromEntries(a.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;let c=[],d=[];return a.forEach(a=>{"["===a[0]||b[a]?(c.push(...d.sort(),a),d=[]):d.push(a)}),c.push(...d.sort()),c}})(i),...(a=>{let b=(a=>{let{theme:b,classGroups:c}=a,d={nextPart:new Map,validators:[]};for(let a in c)y(c[a],d,a,b);return d})(a),{conflictingClassGroups:c,conflictingClassGroupModifiers:d}=a;return{getClassGroupId:a=>{let c=a.split("-");return""===c[0]&&1!==c.length&&c.shift(),w(c,b)||(a=>{if(x.test(a)){let b=x.exec(a)[1],c=b?.substring(0,b.indexOf(":"));if(c)return"arbitrary.."+c}})(a)},getConflictingClassGroupIds:(a,b)=>{let e=c[a]||[];return b&&d[a]?[...e,...d[a]]:e}}})(i)}).cache.get,e=c.cache.set,f=g,g(h)};function g(a){let b=d(a);if(b)return b;let f=((a,b)=>{let{parseClassName:c,getClassGroupId:d,getConflictingClassGroupIds:e,sortModifiers:f}=b,g=[],h=a.trim().split(B),i="";for(let a=h.length-1;a>=0;a-=1){let b=h[a],{isExternal:j,modifiers:k,hasImportantModifier:l,baseClassName:m,maybePostfixModifierPosition:n}=c(b);if(j){i=b+(i.length>0?" "+i:i);continue}let o=!!n,p=d(o?m.substring(0,n):m);if(!p){if(!o||!(p=d(m))){i=b+(i.length>0?" "+i:i);continue}o=!1}let q=f(k).join(":"),r=l?q+"!":q,s=r+p;if(g.includes(s))continue;g.push(s);let t=e(p,o);for(let a=0;a<t.length;++a){let b=t[a];g.push(r+b)}i=b+(i.length>0?" "+i:i)}return i})(a,c);return e(a,f),f}return function(){return f(C.apply(null,arguments))}}(()=>{let a=E("color"),b=E("font"),c=E("text"),d=E("font-weight"),e=E("tracking"),f=E("leading"),g=E("breakpoint"),h=E("container"),i=E("spacing"),j=E("radius"),k=E("shadow"),l=E("inset-shadow"),m=E("text-shadow"),n=E("drop-shadow"),o=E("blur"),p=E("perspective"),q=E("aspect"),r=E("ease"),s=E("animate"),t=()=>["auto","avoid","all","avoid-page","page","left","right","column"],u=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],v=()=>[...u(),ad,Z],w=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],y=()=>[ad,Z,i],z=()=>[N,"full","auto",...y()],A=()=>[P,"none","subgrid",ad,Z],B=()=>["auto",{span:["full",P,ad,Z]},P,ad,Z],C=()=>[P,"auto",ad,Z],D=()=>["auto","min","max","fr",ad,Z],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...y()],I=()=>[N,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],J=()=>[a,ad,Z],K=()=>[...u(),ag,aa,{position:[ad,Z]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",ah,Y,{size:[ad,Z]}],T=()=>[Q,ae,$],U=()=>["","none","full",j,ad,Z],V=()=>["",O,ae,$],W=()=>["solid","dashed","dotted","double"],ak=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],al=()=>[O,Q,ag,aa],am=()=>["","none",o,ad,Z],an=()=>["none",O,ad,Z],ao=()=>["none",O,ad,Z],ap=()=>[O,ad,Z],aq=()=>[N,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[R],breakpoint:[R],color:[S],container:[R],"drop-shadow":[R],ease:["in","out","in-out"],font:[X],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[R],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[R],shadow:[R],spacing:["px",O],text:[R],"text-shadow":[R],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",N,Z,ad,q]}],container:["container"],columns:[{columns:[O,Z,ad,h]}],"break-after":[{"break-after":t()}],"break-before":[{"break-before":t()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:w()}],"overflow-x":[{"overflow-x":w()}],"overflow-y":[{"overflow-y":w()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[P,"auto",ad,Z]}],basis:[{basis:[N,"full","auto",h,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[O,N,"auto","initial","none",Z]}],grow:[{grow:["",O,ad,Z]}],shrink:[{shrink:["",O,ad,Z]}],order:[{order:[P,"first","last","none",ad,Z]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[h,"screen",...I()]}],"min-w":[{"min-w":[h,"screen","none",...I()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[g]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",c,ae,$]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[d,ad,_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Q,Z]}],"font-family":[{font:[af,Z,b]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[e,ad,Z]}],"line-clamp":[{"line-clamp":[O,"none",ad,_]}],leading:[{leading:[f,...y()]}],"list-image":[{"list-image":["none",ad,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ad,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[O,"from-font","auto",ad,$]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[O,"auto",ad,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ad,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ad,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},P,ad,Z],radial:["",ad,Z],conic:[P,ad,Z]},ai,ab]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:T()}],"gradient-via-pos":[{via:T()}],"gradient-to-pos":[{to:T()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[O,ad,Z]}],"outline-w":[{outline:["",O,ae,$]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",k,aj,ac]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",l,aj,ac]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[O,$]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",m,aj,ac]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[O,ad,Z]}],"mix-blend":[{"mix-blend":[...ak(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ak()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[O]}],"mask-image-linear-from-pos":[{"mask-linear-from":al()}],"mask-image-linear-to-pos":[{"mask-linear-to":al()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":al()}],"mask-image-t-to-pos":[{"mask-t-to":al()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":al()}],"mask-image-r-to-pos":[{"mask-r-to":al()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":al()}],"mask-image-b-to-pos":[{"mask-b-to":al()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":al()}],"mask-image-l-to-pos":[{"mask-l-to":al()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":al()}],"mask-image-x-to-pos":[{"mask-x-to":al()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":al()}],"mask-image-y-to-pos":[{"mask-y-to":al()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[ad,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":al()}],"mask-image-radial-to-pos":[{"mask-radial-to":al()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":u()}],"mask-image-conic-pos":[{"mask-conic":[O]}],"mask-image-conic-from-pos":[{"mask-conic-from":al()}],"mask-image-conic-to-pos":[{"mask-conic-to":al()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ad,Z]}],filter:[{filter:["","none",ad,Z]}],blur:[{blur:am()}],brightness:[{brightness:[O,ad,Z]}],contrast:[{contrast:[O,ad,Z]}],"drop-shadow":[{"drop-shadow":["","none",n,aj,ac]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",O,ad,Z]}],"hue-rotate":[{"hue-rotate":[O,ad,Z]}],invert:[{invert:["",O,ad,Z]}],saturate:[{saturate:[O,ad,Z]}],sepia:[{sepia:["",O,ad,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",ad,Z]}],"backdrop-blur":[{"backdrop-blur":am()}],"backdrop-brightness":[{"backdrop-brightness":[O,ad,Z]}],"backdrop-contrast":[{"backdrop-contrast":[O,ad,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",O,ad,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[O,ad,Z]}],"backdrop-invert":[{"backdrop-invert":["",O,ad,Z]}],"backdrop-opacity":[{"backdrop-opacity":[O,ad,Z]}],"backdrop-saturate":[{"backdrop-saturate":[O,ad,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",O,ad,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ad,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[O,"initial",ad,Z]}],ease:[{ease:["linear","initial",r,ad,Z]}],delay:[{delay:[O,ad,Z]}],animate:[{animate:["none",s,ad,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,ad,Z]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:an()}],"rotate-x":[{"rotate-x":an()}],"rotate-y":[{"rotate-y":an()}],"rotate-z":[{"rotate-z":an()}],scale:[{scale:ao()}],"scale-x":[{"scale-x":ao()}],"scale-y":[{"scale-y":ao()}],"scale-z":[{"scale-z":ao()}],"scale-3d":["scale-3d"],skew:[{skew:ap()}],"skew-x":[{"skew-x":ap()}],"skew-y":[{"skew-y":ap()}],transform:[{transform:[ad,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:aq()}],"translate-x":[{"translate-x":aq()}],"translate-y":[{"translate-y":aq()}],"translate-z":[{"translate-z":aq()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ad,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ad,Z]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[O,ae,$,_]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function au(...a){return at(function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}(a))}let av=(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:au("rounded-2xl border border-stone-200 dark:border-stone-700 bg-white dark:bg-stone-950 shadow-sm",a),...c}));av.displayName="Card",(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:au("flex flex-col space-y-1.5 p-6",a),...c})).displayName="CardHeader",(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("h3",{ref:d,className:au("text-2xl font-semibold leading-none tracking-tight",a),...c})).displayName="CardTitle",(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("p",{ref:d,className:au("text-sm text-stone-600 dark:text-stone-400",a),...c})).displayName="CardDescription";let aw=(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:au("p-6 pt-0",a),...c}));aw.displayName="CardContent",(0,c.forwardRef)(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:au("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter";let ax={Orthodox:[{key:"eastern_orthodox",label:"Eastern Orthodox"},{key:"oriental_orthodox",label:"Oriental Orthodox"}],Catholic:[{key:"catholic",label:"Catholic"}],Protestant:[{key:"baptist",label:"Baptist"},{key:"anglican",label:"Anglican"},{key:"methodist",label:"Methodist"},{key:"pentecostal",label:"Pentecostal"},{key:"lutheran",label:"Lutheran"},{key:"presbyterian",label:"Presbyterian"},{key:"puritan",label:"Puritan"},{key:"dutch_reformed",label:"Dutch Reformed"},{key:"moravian",label:"Moravian"}]};function ay({selectedPerspectives:a,onSelectionChange:d}){let[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)(!1),i=(0,c.useRef)(null);return(0,c.useEffect)(()=>{e?setTimeout(()=>h(!0),10):h(!1)},[e]),(0,c.useEffect)(()=>{function a(a){i.current&&!i.current.contains(a.target)&&f(!1)}return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 font-medium",children:"Perspectives"}),(0,b.jsxs)("div",{className:"relative",ref:i,children:[(0,b.jsx)("button",{onClick:()=>f(!e),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,b.jsxs)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:[a.length," selected"]})}),(0,b.jsx)(v.AnimatePresence,{children:e&&(0,b.jsx)(u.motion.div,{className:"absolute top-full right-0 mt-2 z-50",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2,ease:[.16,1,.3,1]},children:(0,b.jsx)(av,{className:"w-72 shadow-xl border-stone-100 dark:border-stone-700",children:(0,b.jsx)(aw,{className:"p-4",children:(0,b.jsx)(u.motion.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.15},children:Object.entries(ax).map(([c,e],f)=>(0,b.jsxs)(u.motion.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05+.03*f,duration:.2,ease:"easeOut"},children:[(0,b.jsx)("h4",{className:"text-xs font-medium text-stone-500 dark:text-stone-400 uppercase tracking-wide px-2",children:c}),(0,b.jsx)("div",{className:"space-y-1",children:e.map((c,e)=>(0,b.jsxs)(u.motion.button,{onClick:()=>{var b;return b=c.key,void(a.includes(b)?d(a.filter(a=>a!==b)):d([...a,b]))},className:"w-full flex items-center space-x-3 p-2 hover:bg-stone-50 dark:hover:bg-stone-800 rounded-lg transition-all text-left",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.08+.03*f+.02*e,duration:.2,ease:"easeOut"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,b.jsx)(u.motion.div,{className:`w-4 h-4 rounded-full transition-all ${a.includes(c.key)?"bg-stone-700 dark:bg-stone-300":"border-2 border-stone-300 dark:border-stone-600 hover:border-stone-400 dark:hover:border-stone-500"}`,animate:{scale:a.includes(c.key)?[1,1.2,1]:1},transition:{duration:.2}}),(0,b.jsx)("span",{className:`text-sm font-medium transition-all ${a.includes(c.key)?"text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400"}`,children:c.label})]},c.key))})]},c))})})})})})]})]})}let az=(0,f.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),aA=(0,f.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function aB({isVisible:a,title:c,onClose:d,children:e,loadingOverlay:f,className:g="",headerAction:h}){return a?(0,b.jsx)(v.AnimatePresence,{children:(0,b.jsx)(u.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"},className:`h-full bg-stone-50/30 dark:bg-stone-950/50 border-r border-stone-200/50 dark:border-stone-700/50 overflow-hidden ${g}`,children:(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsx)("div",{className:"px-6 py-6 bg-stone-50 dark:bg-transparent",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:["string"==typeof c?(0,b.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:c}):(0,b.jsx)("div",{className:"text-lg font-medium text-stone-900 dark:text-stone-100 flex-1",children:c}),(0,b.jsx)("button",{onClick:d,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors ml-4 p-1 rounded-lg bg-stone-200/50 dark:bg-stone-800",children:(0,b.jsx)(aA,{className:"w-5 h-5"})})]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-hide relative",children:[f?.isLoading&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-stone-950/80 backdrop-blur-sm z-10",children:(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400",children:f.text}),"number"==typeof f.progress&&(0,b.jsx)("div",{className:"w-48",children:(0,b.jsx)("div",{className:"w-full bg-stone-200/50 dark:bg-stone-700/50 rounded-full h-1",children:(0,b.jsx)("div",{className:"bg-stone-600 dark:bg-stone-400 h-1 rounded-full transition-all duration-100 ease-out",style:{width:`${f.progress}%`}})})})]})}),e]})]})})}):null}function aC({children:a,className:c=""}){return(0,b.jsx)("div",{className:`py-6 space-y-4 ${c}`,children:a})}function aD({children:a,className:c=""}){return(0,b.jsx)("div",{className:`px-6 ${c}`,children:a})}function aE(){let a=(0,d.useRouter)(),b=(0,d.useSearchParams)(),e=(0,c.useMemo)(()=>{let a=b?.get("verse"),c=b?.get("verses"),d=b?.get("sidebar"),e=b?.get("prophecy_id");return{verse:a||void 0,verses:c||void 0,sidebar:d||void 0,prophecyId:e||void 0,strongsNumber:b?.get("strongs")||void 0,searchQuery:b?.get("q")||void 0}},[b]),f=(0,c.useCallback)(c=>{let d=new URLSearchParams(b?.toString()||"");void 0!==c.verse&&(c.verse?(d.set("verse",c.verse),d.delete("verses")):d.delete("verse")),void 0!==c.verses&&(c.verses?(d.set("verses",c.verses),d.delete("verse")):d.delete("verses")),void 0!==c.sidebar&&(c.sidebar?d.set("sidebar",c.sidebar):d.delete("sidebar")),void 0!==c.prophecyId&&(c.prophecyId?d.set("prophecy_id",c.prophecyId):d.delete("prophecy_id")),void 0!==c.strongsNumber&&(c.strongsNumber?d.set("strongs",c.strongsNumber):d.delete("strongs")),void 0!==c.searchQuery&&(c.searchQuery?d.set("q",c.searchQuery):d.delete("q"));let e=`${window.location.pathname}?${d.toString()}`;a.replace(e)},[b,a]);return{state:e,updateState:f,generateShareUrl:(0,c.useCallback)(()=>`${window.location.origin}${window.location.pathname}${window.location.search}`,[]),clearState:(0,c.useCallback)(()=>{a.replace(window.location.pathname)},[a])}}function aF({className:a="",size:d="md"}){let{generateShareUrl:e}=aE(),[f,g]=(0,c.useState)(!1),h=async()=>{let a=e();try{await navigator.clipboard.writeText(a),g(!0),setTimeout(()=>g(!1),2e3)}catch(c){console.error("Failed to copy URL:",c);let b=document.createElement("textarea");b.value=a,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),g(!0),setTimeout(()=>g(!1),2e3)}},i={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return(0,b.jsx)("button",{onClick:h,className:`${{sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"}[d]} flex items-center justify-center rounded-full bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700 text-stone-700 dark:text-stone-300 transition-all duration-200 group ${a}`,title:f?"Link copied!":"Copy share link",children:f?(0,b.jsx)("svg",{className:i[d],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,b.jsx)("svg",{className:i[d],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})}function aG({strongsNumber:a,isVisible:d,onClose:f,onNavigateToVerse:g}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(new Set),[t,v]=(0,c.useState)(0);(0,c.useEffect)(()=>{d&&a&&(k(!0),m(!1),e.api.get(`/strongs/lookup/${a}`).then(a=>{i(a.strongs_entry)}).catch(a=>{console.error("Failed to load Strong's definition:",a)}).finally(()=>{k(!1)}))},[d,a]),(0,c.useEffect)(()=>{d||(m(!1),o([]),s(new Set))},[d]);let w=async a=>{q(!0),v(0);let b=setInterval(()=>{v(a=>a>=100?(clearInterval(b),100):a+100/300)},100);try{let c=await e.api.get(`/strongs/concordance/${a}`),d=[];c.book_groups&&c.book_groups.forEach(a=>{a.sample_verses&&d.push(...a.sample_verses)}),o(d),m(!0),clearInterval(b),v(100)}catch(a){console.error("Failed to load all verses:",a),clearInterval(b)}finally{q(!1),setTimeout(()=>v(0),500)}};return(0,b.jsx)(aB,{isVisible:d,title:"Strong's Concordance",onClose:f,headerAction:(0,b.jsx)(aF,{size:"sm"}),loadingOverlay:p?{isLoading:!0,progress:t,text:t>=100?"Wrapping up...":(0,b.jsxs)(b.Fragment,{children:["Finding all instances of ",(0,b.jsx)("span",{className:"font-mono",children:a})]})}:void 0,children:(0,b.jsx)(aC,{children:j?(0,b.jsxs)(aD,{children:[(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-24 mb-4 animate-pulse"}),(0,b.jsx)("div",{className:"h-8 bg-stone-200 dark:bg-stone-700 rounded w-32 mb-3 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-20 mb-3 animate-pulse"}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-full animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-5/6 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-4/5 animate-pulse"})]}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-16 animate-pulse"})]}):h?(0,b.jsxs)(aD,{children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:[h.strongs_number," • ",h.language]}),(0,b.jsx)("h4",{className:"text-3xl font-bold text-stone-900 dark:text-stone-100 font-serif",children:h.transliteration}),h.pronunciation&&(0,b.jsxs)("p",{className:"text-base text-stone-600 dark:text-stone-400 font-serif",children:["/",h.pronunciation,"/"]}),(0,b.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:h.definition})]}),h.part_of_speech&&(0,b.jsx)("div",{className:"pt-4 mt-4",children:(0,b.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:h.part_of_speech})})]}),!l&&!p&&(0,b.jsx)("div",{className:"py-4",children:(0,b.jsx)("button",{onClick:()=>a&&w(a),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"View All Verses"})})}),l&&n.length>0&&(0,b.jsxs)("div",{className:"pb-6 space-y-4 mt-6",children:[(0,b.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,b.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-3",children:["All Verses (",n.length,")"]})}),(a=>{let b={};return a.forEach(a=>{let c=a.book.name;b[c]||(b[c]={book:a.book,verses:[]}),b[c].verses.push(a)}),Object.values(b)})(n).map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("button",{onClick:()=>(a=>{let b=new Set(r);r.has(a)?b.delete(a):b.add(a),s(b)})(a.book.name),className:"w-full flex items-center",children:[(0,b.jsx)(u.motion.div,{animate:{rotate:90*!!r.has(a.book.name)},transition:{duration:.2,ease:"easeOut"},children:(0,b.jsx)(az,{className:"w-4 h-4 text-stone-600 dark:text-stone-400"})}),(0,b.jsx)("h5",{className:"text-md font-medium text-stone-900 dark:text-stone-100 ml-2",children:a.book.name}),(0,b.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 bg-stone-100 dark:bg-stone-800 px-2 py-1 rounded-full ml-2",children:a.verses.length})]}),(0,b.jsx)(u.motion.div,{initial:!1,animate:{height:r.has(a.book.name)?"auto":0,opacity:+!!r.has(a.book.name)},transition:{duration:.3,ease:"easeOut"},style:{overflow:"hidden"},children:(0,b.jsx)("div",{className:"space-y-2 pt-2",children:a.verses.map((a,c)=>(0,b.jsxs)(u.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.05*c,duration:.2},onClick:()=>g(a.book.id,a.chapter_info.chapter_number,a.id),className:"hover:bg-stone-200/30 dark:hover:bg-stone-800/30 cursor-pointer transition-colors rounded-lg p-3",children:[(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"text-md font-medium text-stone-600 dark:text-stone-400",children:a.reference})}),(0,b.jsx)("p",{className:"text-md text-stone-900 dark:text-stone-100 leading-relaxed font-serif",children:((a,c=[])=>{if(!c||0===c.length)return a;let d=a.split(/\s+/),e=[];for(let a=0;a<d.length;a++){let f=d[a],g=a+1;c.includes(g)?e.push((0,b.jsx)("mark",{className:"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-300 px-1 rounded",children:f},a)):e.push(f),a<d.length-1&&e.push(" ")}return e})(a.text,a.word_positions)})]},`${a.id}-${c}`))})})]},a.book.id))]})]}):(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:"Click on a Strong's number to see its definition"})})})}let aH=(0,f.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),aI=(0,f.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var aJ=a.i(61502);function aK({pagination:a,onChapterChange:c}){let{current_chapter:d,total_chapters:e,has_previous:f,has_next:g,previous_chapter:h,next_chapter:i,all_chapters:j}=a,k=(()=>{let a=[],b=j.indexOf(d);if(j.length>0&&a.push(j[0]),e>8){b>2&&a.push("ellipsis");let c=Math.max(1,b-1),d=Math.min(j.length-2,b+1);for(let b=c;b<=d;b++)j[b]===j[0]||j[b]===j[j.length-1]||a.includes(j[b])||a.push(j[b]);if(b<j.length-3&&a.push("ellipsis"),j.length>1){let b=j[j.length-1];a.includes(b)||a.push(b)}}else for(let b=1;b<j.length;b++)a.push(j[b]);return a})();return(0,b.jsx)("div",{className:"fixed left-6 top-1/2 transform -translate-y-1/2 z-40",children:(0,b.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,b.jsx)(aJ.Tooltip,{content:"Previous Chapter",delay:500,position:"right",children:(0,b.jsx)("button",{onClick:()=>h&&c(h),disabled:!f,className:`p-1 transition-all ${f?"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300":"text-stone-200 dark:text-stone-700 cursor-not-allowed"}`,children:(0,b.jsx)(aH,{className:"w-3 h-3"})})}),(0,b.jsx)("div",{className:"flex flex-col items-center space-y-2",children:k.map((a,e)=>{if("ellipsis"===a)return(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"⋯"},`ellipsis-${e}`);let f=a===d;return(0,b.jsx)(aJ.Tooltip,{content:`Go to Chapter ${a}`,delay:500,position:"right",children:(0,b.jsx)("button",{onClick:()=>c(a),className:`w-6 h-6 rounded-full text-xs font-medium transition-all ${f?"text-stone-900 dark:text-stone-100 bg-stone-100 dark:bg-stone-800":"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300 hover:bg-stone-50 dark:hover:bg-stone-800"}`,children:a})},a)})}),(0,b.jsx)(aJ.Tooltip,{content:"Next Chapter",delay:500,position:"right",children:(0,b.jsx)("button",{onClick:()=>i&&c(i),disabled:!g,className:`p-1 transition-all ${g?"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300":"text-stone-200 dark:text-stone-700 cursor-not-allowed"}`,children:(0,b.jsx)(aI,{className:"w-3 h-3"})})})]})})}function aL({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse bg-stone-200 dark:bg-stone-700 rounded ${a}`})}function aM(){return(0,b.jsxs)("div",{className:"h-full flex flex-col bg-white dark:bg-stone-950",children:[(0,b.jsx)("div",{className:"px-8 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,b.jsx)("div",{className:"flex items-center space-x-4",children:(0,b.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,b.jsx)(aL,{className:"h-4 w-12"}),(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,b.jsx)(aL,{className:"h-4 w-20"}),(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,b.jsx)(aL,{className:"h-4 w-16"})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(aL,{className:"h-8 w-48 mb-2"}),(0,b.jsx)(aL,{className:"h-4 w-32"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-3 items-end",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(aL,{className:"h-4 w-16"}),(0,b.jsxs)("div",{className:"flex items-center bg-stone-50 dark:bg-stone-900 rounded-full p-1 border border-stone-200 dark:border-stone-700",children:[(0,b.jsx)(aL,{className:"h-6 w-6 rounded-full mx-1"}),(0,b.jsx)(aL,{className:"h-6 w-6 rounded-full mx-1"}),(0,b.jsx)(aL,{className:"h-6 w-6 rounded-full mx-1"}),(0,b.jsx)(aL,{className:"h-6 w-6 rounded-full mx-1"})]})]}),(0,b.jsx)(aL,{className:"h-8 w-32 rounded-full"})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8 relative",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"space-y-0 pb-32",children:Array.from({length:12}).map((a,c)=>(0,b.jsx)("div",{className:"group relative py-3 px-4 rounded-lg hover:bg-stone-50 dark:hover:bg-stone-900 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)(aL,{className:"h-6 w-6 rounded-full flex-shrink-0 mt-1"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(aL,{className:"h-5 w-full"}),(0,b.jsx)(aL,{className:"h-5 w-5/6"}),(0,b.jsx)(aL,{className:"h-5 w-4/5"})]})]})},c))}),(0,b.jsx)("div",{className:"flex justify-center mt-12 mb-8",children:(0,b.jsx)(aL,{className:"h-8 w-32 rounded-full"})})]})})]})}class aN{cache=new Map;TTL=3e5;getKey(a,b){return`${a}:${b}`}set(a,b,c){let d=this.getKey(a,b);this.cache.set(d,{...c,timestamp:Date.now()})}get(a,b){let c=this.getKey(a,b),d=this.cache.get(c);return d?Date.now()-d.timestamp>this.TTL?(this.cache.delete(c),null):d:null}has(a,b){return null!==this.get(a,b)}clear(){this.cache.clear()}cleanup(){let a=Date.now();for(let[b,c]of this.cache.entries())a-c.timestamp>this.TTL&&this.cache.delete(b)}}let aO=new aN;function aP({text:a,textWithStrongs:c,isVerseHovered:d,onStrongsClick:e,textSize:f}){let g=(a=>{let b=[],c=new Map,d=a;for(let b of a.matchAll(/([\w']+)\{([HG]\d+)\}/g)){let[a,e,f]=b;c.set(e,f),d=d.replace(a,e)}return(d=(d=d.replace(/\{\([HG]\d+\)\}/g,"")).replace(/\{[HG]\d+\}/g,"")).split(/(\s+|[.,;:!?()[\]"])/).forEach(a=>{if(a){let d=a.trim();d&&c.has(d)?b.push({word:a,strongsNumber:c.get(d),isStrongsWord:!0}):b.push({word:a,strongsNumber:null,isStrongsWord:!1})}}),b})(c);return(0,b.jsx)("span",{className:`font-serif ${(()=>{switch(f){case"small":return"text-lg";case"medium":default:return"text-xl";case"large":return"text-2xl";case"xl":return"text-3xl"}})()} leading-relaxed text-stone-800 dark:text-stone-200`,children:g.map((a,c)=>a.isStrongsWord&&a.strongsNumber?(0,b.jsx)(aJ.Tooltip,{content:`Strong's ${a.strongsNumber}`,delay:500,position:"top",children:(0,b.jsx)(u.motion.span,{className:"cursor-pointer transition-colors duration-200",onClick:b=>{b.stopPropagation(),e(a.strongsNumber)},initial:!1,animate:{color:d?"rgb(37 99 235)":"inherit"},transition:{duration:.2,ease:"easeOut"},children:a.word})},c):(0,b.jsx)("span",{children:a.word},c))})}let aQ=({message:a,isVisible:d,onClose:e,duration:f=3e3,actionButton:g})=>((0,c.useEffect)(()=>{if(d){let a=setTimeout(()=>{e()},f);return()=>clearTimeout(a)}},[d,f,e]),(0,b.jsx)(v.AnimatePresence,{children:d&&(0,b.jsx)(u.motion.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:400,damping:30,mass:.8},className:"fixed top-6 right-6 z-50",children:(0,b.jsxs)(u.motion.div,{className:"bg-white dark:bg-stone-950 border border-stone-200 dark:border-stone-700 rounded-2xl shadow-lg px-5 py-4 flex items-center space-x-4 min-w-[320px]",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:25},children:[(0,b.jsx)("span",{className:"text-sm text-stone-700 dark:text-stone-300 font-medium flex-1",children:a}),g&&(0,b.jsx)(u.motion.button,{onClick:g.onClick,className:"flex-shrink-0 px-3 py-1.5 bg-stone-900 dark:bg-stone-100 text-white dark:text-stone-900 text-xs font-medium rounded-full hover:bg-stone-800 dark:hover:bg-stone-200 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25},children:g.text}),(0,b.jsx)(u.motion.button,{onClick:e,className:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25},children:(0,b.jsx)(aA,{className:"w-3.5 h-3.5 text-stone-500 dark:text-stone-400"})})]})})}));function aR({bookId:a,chapterNumber:d,selectedVerseId:f,selectedVerseRange:i,onVerseSelect:j,onVerseRangeSelect:k,onStrongsClick:l,onChapterChange:m,onBackToBooks:n,onSummarize:o,onAsk:p,isStrongsSidebarOpen:s,bookmark:u,onReturnToBookmark:v,onBookDataLoad:w,onShowMetadata:x,onShowProphecy:y}){let[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!0),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(null),[S,T]=(0,c.useState)("large"),[U,V]=(0,c.useState)(["catholic","baptist"]),[W,X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)({current_chapter:1,total_chapters:1,has_previous:!1,has_next:!1,previous_chapter:null,next_chapter:null,all_chapters:[]}),ag=a=>F?.fulfillment_verses&&F.fulfillment_verses.find(b=>b.verse_numbers.includes(a))||null,ah=a=>{_(!0),j(a),aa&&ab(!1)},ai=a=>{f&&a!==f&&k({startVerseId:Math.min(f,a),endVerseId:Math.max(f,a)}),_(!1),R(null)},aj=()=>{$||R(null)};(0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&aa&&ab(!1)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[aa]),(0,c.useEffect)(()=>{a&&d&&(async()=>{let b=aO.get(a,d);if(b){C(b.book),E(b.chapter),A(b.verses),af(b.pagination),I(!1);return}I(!0);try{let b=await e.api.get(`/bible/books/${a}/chapters/${d}`);if(aO.set(a,d,{book:b.book,chapter:b.chapter,verses:b.verses,pagination:b.pagination}),C(b.book),E(b.chapter),A(b.verses),af(b.pagination),G(b.prophecies||null),w&&b.book?.name&&w(b.book.name),b.pagination?.has_next&&b.pagination?.next_chapter){let c=b.pagination.next_chapter;aO.has(a,c)||e.api.get(`/bible/books/${a}/chapters/${c}`).then(b=>{aO.set(a,c,{book:b.book,chapter:b.chapter,verses:b.verses,pagination:b.pagination})}).catch(()=>{})}}catch(a){console.error("Failed to load chapter:",a)}finally{I(!1)}})()},[a,d,w]),(0,c.useEffect)(()=>{f&&z.length>0&&setTimeout(()=>{let a=document.getElementById(`verse-${f}`);a&&a.scrollIntoView({behavior:"smooth",block:"center"})},100)},[f,z.length]);let ak=()=>{if(i){let a=[];for(let b=i.startVerseId;b<=i.endVerseId;b++)a.push(b);return a}return f?[f]:[]},al=()=>{let a=ak();return z.filter(b=>a.includes(b.id)).map(a=>a.text).join(" ")},am=()=>{let a=ak();a.length>0&&o&&(K(!0),o(a,U,al()),setTimeout(()=>K(!1),2e3))},an=()=>{if(!L)return void M(!0)},ao=a=>{aa&&ab(!1),l&&l(a)};return H?(0,b.jsx)(aM,{}):B&&D&&0!==z.length?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aG,{strongsNumber:W,isVisible:Y,onClose:()=>{Z(!1),X(null)},onNavigateToVerse:(a,b,c)=>{console.log("Navigate to verse:",{bookId:a,chapterNumber:b,verseId:c})}}),(0,b.jsxs)("div",{className:`h-full flex flex-col transition-all duration-300 ${Y?"ml-96":""}`,children:[(0,b.jsx)("div",{className:`px-8 py-6 transition-all duration-300 ${aa?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,b.jsx)("button",{onClick:n,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:"Home"}),(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,b.jsx)("button",{onClick:()=>n?.(),className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:B.name}),(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,b.jsxs)("span",{className:"text-stone-900 dark:text-stone-100 font-medium",children:["Chapter ",D.chapter_number]})]}),u&&v&&(0,b.jsxs)("button",{onClick:v,className:"px-2 py-1 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-xs border border-stone-200 dark:border-stone-700 transition-all flex items-center space-x-1.5",title:`Return to ${u.bookName||"Book"} ${u.chapterNumber}`,children:[(0,b.jsx)(r,{className:"w-3 h-3 text-stone-700 dark:text-stone-300"}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Return to Reading"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-medium text-stone-900 dark:text-stone-100",children:[B.name," ",D.chapter_number]}),(0,b.jsxs)("p",{className:"text-sm text-stone-500 dark:text-stone-400 mt-1",children:[z.length," verses • ",B.testament," Testament"]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-3 items-end",children:[B&&D&&x&&(0,b.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm border transition-all bg-stone-50 dark:bg-stone-900 border-stone-200 dark:border-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:(0,b.jsx)("path",{d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25A8.966 8.966 0 0 1 18 3.75c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),(0,b.jsxs)("span",{className:"font-medium",children:["About ",B.name," ",D.chapter_number]})]}),(0,b.jsxs)("button",{onClick:()=>{ab(!aa),aa||ad(!0)},className:`flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm border transition-all ${aa?"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900":"bg-stone-50 dark:bg-stone-900 border-stone-200 dark:border-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800"}`,children:[(0,b.jsx)(h,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-medium",children:aa?"Exit Focus":"Focus Mode"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 font-medium",children:"Text Size"}),(0,b.jsx)("div",{className:"flex items-center bg-stone-50 dark:bg-stone-900 rounded-full p-1 border border-stone-200 dark:border-stone-700",children:["small","medium","large","xl"].map(a=>(0,b.jsx)("button",{onClick:()=>T(a),className:`px-3 py-1 text-xs font-medium rounded-full transition-all ${S===a?"bg-white dark:bg-stone-800 text-stone-900 dark:text-stone-100 shadow-sm":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100"}`,children:"small"===a?"S":"medium"===a?"M":"large"===a?"L":"XL"},a))})]}),(0,b.jsx)(ay,{selectedPerspectives:U,onSelectionChange:V})]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8 relative",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("div",{className:"space-y-0 pb-8",children:z.map((a,d)=>{let e=f===a.id,g=i&&a.id>=i.startVerseId&&a.id<=i.endVerseId,h=Q===a.id,l=$&&h&&a.id!==f,m=d>0?z[d-1]:null,n=d<z.length-1?z[d+1]:null,r=m&&i&&m.id>=i.startVerseId&&m.id<=i.endVerseId,t=n&&i&&n.id>=i.startVerseId&&n.id<=i.endVerseId,u=i?a.id===i.startVerseId:e,v=i?a.id===i.endVerseId:e,w=(e||g)&&u?"Cancel Selection":l?"End Selection":"Start Selection",x=(e||g)&&v&&(o||p);return(0,b.jsxs)(c.default.Fragment,{children:[(0,b.jsxs)("div",{id:`verse-${a.id}`,onMouseEnter:()=>(a=>{R(a);let b=z.find(b=>b.id===a);b&&(console.log("=== VERSE HOVER DEBUG ==="),console.log("Verse ID:",a),console.log("Verse Number:",b.verse_number),console.log("Raw text:",b.text),console.log("Text with strongs:",b.text_with_strongs),console.log("Strongs numbers array:",b.strongs_numbers),console.log("========================"))})(a.id),onMouseLeave:aj,className:`group relative flex items-start space-x-3 transition-all duration-200 z-0 ${e||g?`bg-blue-50 dark:bg-blue-950 px-3 ${!r?"pt-3 rounded-t-lg":"pt-3"} ${!t?"pb-3 rounded-b-lg":"pb-3"}`:"hover:bg-stone-50 dark:hover:bg-stone-800/50 p-3 rounded-lg"} ${!(e||g)?"mb-4":""}`,children:[(0,b.jsx)(aJ.Tooltip,{content:w,delay:500,position:"left",children:(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),e||g?(j(0),k(null),_(!1),M(!1)):l?ai(a.id):(k(null),ah(a.id))},className:`flex-shrink-0 w-6 h-6 rounded-full transition-all duration-200 flex items-center justify-center text-xs font-medium ${(e||g)&&u?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border border-blue-300 dark:border-blue-700":(e||g)&&!u?"bg-blue-100 dark:bg-blue-900 opacity-0":l?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border border-blue-300 dark:border-blue-700":"bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400 border border-stone-200 dark:border-stone-700 opacity-0 group-hover:opacity-100 hover:bg-stone-200 dark:hover:bg-stone-700"}`,children:(e||g)&&u?"×":(e||g)&&!u?"":(0,b.jsx)(q,{className:"w-3 h-3"})})}),(0,b.jsx)("div",{className:"flex-1 cursor-pointer",onClick:b=>{b.stopPropagation(),e||g?(j(0),k(null),_(!1),M(!1)):l?ai(a.id):(k(null),ah(a.id))},children:(()=>{var c;let f=(c=a.verse_number,F?.prophecy_verses&&F.prophecy_verses.find(a=>a.verse_numbers.includes(c))||null),i=ag(a.verse_number),j=d>0?z[d-1]:null,k=j?ag(j.verse_number):null,l=i&&(!k||k.prophecy_id!==i.prophecy_id||j&&j.verse_number!==a.verse_number-1),m=1;if(i&&l){let a=d+1;for(;a<z.length;){let b=z[a],c=ag(b.verse_number);if(c&&c.prophecy_id===i.prophecy_id&&b.verse_number===z[a-1].verse_number+1)m++,a++;else break}}let n=f||i&&l;return(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsxs)("span",{className:`font-serif ${(()=>{switch(S){case"small":return"text-base";case"medium":default:return"text-lg";case"large":return"text-xl";case"xl":return"text-2xl"}})()} leading-relaxed ${e||g?"text-blue-800 dark:text-blue-200":"text-stone-800 dark:text-stone-200"}`,children:[(0,b.jsx)("sup",{className:`text-xs mr-2 font-sans ${e||g?"text-blue-600 dark:text-blue-400":"text-stone-500 dark:text-stone-400"}`,children:a.verse_number}),(0,b.jsx)(aP,{text:a.text,textWithStrongs:a.text_with_strongs,isVerseHovered:Q===a.id,textSize:S,onStrongsClick:ao})]}),n&&(0,b.jsxs)("div",{className:"absolute -right-4 top-0 w-2 group",style:{height:i&&m>1?`${100*m}%`:"100%",zIndex:10},children:[(0,b.jsxs)("div",{className:"absolute top-0 right-0 w-2 h-2",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 w-2 h-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"}),(0,b.jsx)("div",{className:"absolute top-0 right-0 w-0.5 h-2 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"})]}),(0,b.jsx)("div",{className:"absolute top-2 bottom-2 right-0 w-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors",children:(0,b.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-6 transition-all duration-200",children:h?(0,b.jsx)("button",{onClick:a=>{var b;a.stopPropagation(),b=f?.prophecy_id||i?.prophecy_id||0,y&&y(b)},className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all text-stone-700 dark:text-stone-300 font-medium whitespace-nowrap",children:"View Prophecy"}):(0,b.jsx)("div",{className:"text-md font-medium text-stone-700 dark:text-stone-300 leading-tight",children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:"Messianic"}),(0,b.jsx)("div",{children:"Prophecy"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{children:"Prophecy"}),(0,b.jsx)("div",{children:"Fulfilled"})]})})})}),(0,b.jsxs)("div",{className:"absolute bottom-0 right-0 w-2 h-2",children:[(0,b.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"}),(0,b.jsx)("div",{className:"absolute bottom-0 right-0 w-0.5 h-2 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"})]})]})]})})()})]}),x&&(0,b.jsxs)("div",{className:"flex items-center justify-end space-x-2 mt-2 mb-4",children:[s&&(0,b.jsx)("span",{className:"text-xs text-stone-500 dark:text-stone-400 mr-2",children:"Close Strong's analysis to use AI features"}),0===U.length&&!s&&(0,b.jsx)("span",{className:"text-xs text-stone-500 dark:text-stone-400 mr-2",children:"Select at least 1 perspective to use AI features"}),o&&(0,b.jsxs)("button",{onClick:am,disabled:J||s||0===U.length,className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 dark:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[J?(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,b.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:J?"Explaining...":"Explain"})]}),p&&(0,b.jsxs)("button",{onClick:an,disabled:O||s||0===U.length||L&&!N.trim(),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 dark:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[O?(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,b.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:O?"Asking...":L?"Submit":"Ask"})]})]})]},a.id)})}),ae&&ae.has_next&&ae.next_chapter&&m&&(0,b.jsx)("div",{className:`flex justify-start mt-8 mb-8 ml-9 transition-all duration-300 ${aa?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"}`,children:(0,b.jsxs)("button",{onClick:()=>m(ae.next_chapter),className:"flex items-center space-x-2 px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:[(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Next Chapter"}),(0,b.jsx)(g,{className:"w-4 h-4 text-stone-700 dark:text-stone-300"})]})}),ae&&m&&B&&(0,b.jsx)("div",{className:`transition-all duration-300 ${aa?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"}`,children:(0,b.jsx)(aK,{pagination:ae,onChapterChange:m})})]})})]}),(0,b.jsx)(t,{isVisible:L,onSubmit:a=>{let b=ak();b.length>0&&p&&(P(!0),p(b,a,["catholic","baptist"],al()),M(!1),setTimeout(()=>P(!1),2e3))},onCancel:()=>{M(!1)},isLoading:O,placeholder:"Ask a question about the selected verses..."}),(0,b.jsx)(aQ,{message:"Press ESC to exit Focus Mode",isVisible:ac,onClose:()=>ad(!1),duration:3e3})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-normal text-stone-900 dark:text-stone-100 mb-2",children:"Welcome to Libro"}),(0,b.jsx)("p",{className:"text-stone-600 dark:text-stone-400 font-normal",children:"Select a book and chapter to begin reading"})]})})}let aS=[{key:"catholic",label:"Catholic"},{key:"eastern_orthodox",label:"Eastern Orthodox"},{key:"oriental_orthodox",label:"Oriental Orthodox"},{key:"baptist",label:"Baptist"},{key:"anglican",label:"Anglican"},{key:"methodist",label:"Methodist"},{key:"pentecostal",label:"Pentecostal"},{key:"lutheran",label:"Lutheran"},{key:"presbyterian",label:"Presbyterian"},{key:"puritan",label:"Puritan"},{key:"dutch_reformed",label:"Dutch Reformed"},{key:"moravian",label:"Moravian"}];function aT({selectedVerseId:a,selectedVerseRange:d,chapterNumber:f,onNavigateToVerse:g,triggerSummary:h,selectedPerspective:i,selectedPerspectives:j,isVisible:k,onClose:l,onSummaryComplete:m,userQuestion:n,bookName:o,verseText:p,onViewScholarlyAnalysis:q}){let[r,s]=(0,c.useState)(i),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)("generate"),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{s(i)},[i]);let D=(0,c.useCallback)(async()=>{let b=d?.startVerseId||a,c=d?.endVerseId||a;if(b){w(!0);try{let a={verse_range_start:b,perspectives:j};if(c&&c!==b&&(a.verse_range_end=c),n){a.question=n;let b=await e.api.post("/analysis/question",a);u(b)}else{let b=await e.api.post("/analysis/summary",a);u(b)}m?.(),y("generate")}catch(a){console.error("Failed to generate analysis:",a)}finally{w(!1)}}},[d,a,j,n,m]);(0,c.useEffect)(()=>{h&&(a||d)&&D()},[h,a,d,j,n,m,D]),(0,c.useEffect)(()=>{k||(u(null),y("generate"),A(null))},[k]);let E=()=>{let b=d?.startVerseId||a,c=d?.endVerseId||a;return b&&o&&f?{reference:d?`${o} ${f}:${b}-${c}`:`${o} ${f}:${b}`,startVerseId:b,endVerseId:c,verseText:p}:null},F=async()=>{if(t){y("loading");try{let a={verse_range_start:t.verse_range_start,verse_range_end:t.verse_range_end,perspectives:j,existing_analyses:Object.entries(t.perspectives).map(([a,b])=>({perspective:a,response_text:b.response_text,cross_references:b.cross_references}))},b=await e.api.post("/analysis/scholarly-consensus",a);console.log("AnalysisSidebar - Full response object:",b);let c=b.data||b;c&&c.scholarly_analysis?(A(c.scholarly_analysis),C(c.denominational_analyses||{}),y("view")):(console.error("No scholarly_analysis in response:",c),y("generate"))}catch(a){console.error("Failed to generate scholarly analysis:",a),y("generate")}}};return(0,b.jsx)(aB,{isVisible:k,title:(0,b.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,b.jsx)("span",{children:"AI Analysis"}),t&&j.length>1&&("view"===x||"generate"===x||"loading"===x)&&(0,b.jsx)("button",{onClick:()=>{"view"===x?q?.(z,B):"generate"===x&&F()},disabled:"loading"===x,className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:"loading"===x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Generating..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"view"===x?"View Deep Analysis":"Deep Analysis"})]})})]}),onClose:"loading"===x?()=>{}:l,children:(0,b.jsx)(aC,{children:t||v?v?(0,b.jsxs)(b.Fragment,{children:[n&&(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-xl text-stone-900 dark:text-stone-100 leading-relaxed font-medium",children:['"',n,'"']})})}),(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"space-y-3 pb-4",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:E()?.reference||"Selected Passage"}),E()?.verseText&&(0,b.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',E()?.verseText,'"']})]})}),(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsx)("div",{className:"text-xs text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-3",children:"Theological Perspectives"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:aS.filter(a=>j.includes(a.key)).map(a=>(0,b.jsx)("div",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400",children:a.label},a.key))})]})}),(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-4/5"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"}),(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-2/3"})]}),(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8 space-y-3",children:[(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-32"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-24"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-4/5"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-28"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-3/4"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-32"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"})]})]})]})]})})})]}):t?(0,b.jsxs)(b.Fragment,{children:[n&&(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("p",{className:"text-xl text-stone-900 dark:text-stone-100 leading-relaxed font-medium",children:['"',n,'"']})})}),(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"space-y-3 pb-4",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:t.reference}),(0,b.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',t.verse_text,'"']})]})}),(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,b.jsx)("div",{className:"flex overflow-x-auto scrollbar-hide space-x-1",children:aS.filter(a=>j.includes(a.key)).map(a=>(0,b.jsx)("button",{onClick:()=>s(a.key),className:`flex-shrink-0 px-3 py-1.5 text-xs font-medium rounded-full transition-all ${r===a.key?"bg-stone-200 dark:bg-stone-800 text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800/50"}`,children:a.label},a.key))})})}),(0,b.jsx)(aD,{children:t.perspectives[r]&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:(a=>{let c,d=[],e=0,f=/(\*\*([^*]+)\*\*|\*([^*]+)\*|_([^_]+)_)/g;for(;null!==(c=f.exec(a));)c.index>e&&d.push(a.slice(e,c.index)),c[2]?d.push((0,b.jsx)("strong",{className:"font-semibold",children:c[2]},c.index)):c[3]?d.push((0,b.jsx)("em",{className:"italic",children:c[3]},c.index)):c[4]&&d.push((0,b.jsx)("em",{className:"italic",children:c[4]},c.index)),e=c.index+c[0].length;return e<a.length&&d.push(a.slice(e)),d.length>0?d:[a]})(t.perspectives[r].response_text)})}),t.perspectives[r].cross_references?.length>0&&(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:"Cross References"}),(0,b.jsx)("div",{className:"space-y-2",children:t.perspectives[r].cross_references.map((a,c)=>(0,b.jsxs)("div",{className:"hover:bg-stone-200/30 dark:hover:bg-stone-800/30 cursor-pointer transition-colors rounded-lg p-3",onClick:()=>(a=>{if(g&&a.book&&a.chapter&&a.verse_start){let b={Genesis:5,Exodus:6,Leviticus:7,Numbers:8,Deuteronomy:9,Joshua:10,Judges:11,Ruth:12,"1 Samuel":13,"2 Samuel":14,"1 Kings":15,"2 Kings":16,"1 Chronicles":17,"2 Chronicles":18,Ezra:19,Nehemiah:20,Esther:21,Job:22,Psalms:23,Proverbs:24,Ecclesiastes:25,"Song of Solomon":26,Isaiah:27,Jeremiah:28,Lamentations:29,Ezekiel:30,Daniel:31,Hosea:32,Joel:33,Amos:34,Obadiah:35,Jonah:36,Micah:37,Nahum:38,Habakkuk:39,Zephaniah:40,Haggai:41,Zechariah:42,Malachi:43,Matthew:44,Mark:45,Luke:46,John:47,Acts:48,Romans:49,"1 Corinthians":50,"2 Corinthians":51,Galatians:52,Ephesians:53,Philippians:54,Colossians:55,"1 Thessalonians":56,"2 Thessalonians":57,"1 Timothy":58,"2 Timothy":59,Titus:60,Philemon:61,Hebrews:62,James:63,"1 Peter":64,"2 Peter":65,"1 John":66,"2 John":67,"3 John":68,Jude:69,Revelation:70}[a.book];b&&g(b,a.chapter,a.verse_start)}})(a),children:[(0,b.jsx)("div",{className:"mb-2",children:(0,b.jsx)("span",{className:"text-md font-medium text-stone-600 dark:text-stone-400",children:a.reference_display})}),(0,b.jsx)("p",{className:"text-md text-stone-900 dark:text-stone-100 leading-relaxed",children:a.relevance_note})]},c))})]})]})})]}):null:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)("div",{className:"text-center text-stone-600 dark:text-stone-400 text-sm",children:'Click "Explain" to generate analysis'})})})})}function aU({bookId:a,selectedChapter:d,onChapterSelect:f}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{let b=async()=>{j(!0);try{let b=await e.api.get(`/bible/books/${a}/chapters`);h(b.chapters)}catch(a){console.error("Failed to load chapters:",a)}finally{j(!1)}};a&&b()},[a]),i)?(0,b.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,b.jsx)("div",{className:"text-stone-500 font-normal text-sm",children:"Loading chapters..."})}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-normal text-stone-900 mb-4",children:"Chapters"}),(0,b.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-6",children:g.map(a=>(0,b.jsx)("button",{onClick:()=>f(a.chapter_number),className:`aspect-square rounded-2xl transition-all hover:scale-105 ${d===a.chapter_number?"bg-blue-100 text-blue-700":"bg-stone-50 text-stone-700 hover:bg-blue-50"}`,children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a.chapter_number}),(0,b.jsxs)("span",{className:"text-xs text-stone-500 mt-1",children:[a.verse_count,"v"]})]})},a.id))})]})}function aV({strongsNumber:a,onNavigateToVerse:d,onClose:f}){let[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(new Set),[k,l]=(0,c.useState)({}),[m,n]=(0,c.useState)(new Set),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(0),[s,t]=(0,c.useState)(0),[u,v]=(0,c.useState)(null),w=async()=>{p(!0);try{let b=await e.api.get(`/strongs/concordance/${a}`);b.book_groups&&(h(b.book_groups),r(b.total_books),t(b.total_verses),v(b.strongs_entry))}catch(a){console.error("Failed to load concordance:",a),h([])}finally{p(!1)}};(0,c.useEffect)(()=>{w()},[a,w]);let x=async b=>{if(!k[b]){n(a=>new Set([...a,b]));try{let c=g.find(a=>a.book.id===b)?.book.name,d=await e.api.get(`/strongs/concordance/${a}/book/${c}`);d.results&&l(a=>({...a,[b]:d.results}))}catch(a){console.error("Failed to load book verses:",a)}finally{n(a=>{let c=new Set(a);return c.delete(b),c})}}};return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsxs)("svg",{className:"animate-spin h-5 w-5 text-stone-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsxs)("div",{className:"text-stone-500",children:["Loading concordance for ",a,"..."]})]})}):(0,b.jsxs)("div",{className:"px-12 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("nav",{className:"flex items-center space-x-2 text-sm mb-4",children:[(0,b.jsx)("button",{onClick:f,className:"text-stone-500 hover:text-stone-900 transition-colors",children:"Home"}),(0,b.jsx)("span",{className:"text-gray-300",children:"›"}),(0,b.jsx)("button",{onClick:f,className:"text-stone-500 hover:text-stone-900 transition-colors",children:"Reader"}),(0,b.jsx)("span",{className:"text-gray-300",children:"›"}),(0,b.jsxs)("span",{className:"text-stone-900 font-medium",children:["Strong's ",a]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-normal text-stone-900",children:"Strong's Concordance"}),(0,b.jsxs)("p",{className:"text-stone-500 mt-1 text-sm",children:[s," ",1===s?"verse":"verses"," across ",q," ",1===q?"book":"books"," for ",a]})]}),u&&(0,b.jsxs)("div",{className:"mt-10 mb-12 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("span",{className:"text-base font-mono text-stone-600 bg-stone-100 px-4 py-2 rounded-full",children:u.strongs_number}),(0,b.jsx)("span",{className:"text-sm text-stone-500 uppercase tracking-wide",children:u.language}),u.part_of_speech&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-gray-300",children:"•"}),(0,b.jsx)("span",{className:"text-sm text-stone-500 uppercase tracking-wide",children:u.part_of_speech})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-3xl font-serif text-stone-900 font-medium",children:u.transliteration}),u.pronunciation&&(0,b.jsxs)("p",{className:"text-xl font-serif text-stone-600 italic",children:["/",u.pronunciation,"/"]}),(0,b.jsx)("p",{className:"text-xl font-serif text-gray-800 leading-relaxed",children:u.definition})]})]})]}),(0,b.jsx)("div",{className:"space-y-6",children:g.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("button",{onClick:()=>(a=>{let b=new Set(i);b.has(a)?b.delete(a):(b.add(a),x(a)),j(b)})(a.book.id),className:"w-full text-left hover:text-stone-600 transition-colors flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:`transform transition-transform text-xs text-stone-400 ${i.has(a.book.id)?"rotate-90":""}`,children:"▶"}),(0,b.jsx)("h3",{className:"font-normal text-stone-900",children:a.book.name}),(0,b.jsx)("span",{className:"text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded-full",children:a.verse_count})]}),m.has(a.book.id)&&(0,b.jsx)("div",{className:"text-xs text-stone-400",children:"Loading..."})]}),i.has(a.book.id)&&k[a.book.id]&&(0,b.jsx)("div",{className:"ml-4 space-y-3",children:k[a.book.id].map((c,e)=>(0,b.jsx)("div",{onClick:()=>d(c.book.id,c.chapter_info.chapter_number,c.id),className:"cursor-pointer hover:bg-stone-50 p-3 rounded-xl transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsxs)("span",{className:"text-xs bg-stone-200 text-stone-700 px-2 py-1 rounded-full mt-0.5 flex-shrink-0",children:[c.chapter_info.chapter_number,":",c.verse_number]}),(0,b.jsx)("div",{className:"font-serif text-gray-800 leading-relaxed flex-1",children:c.text})]})},`${a.book.id}-${c.id}-${e}`))})]},a.book.id))}),0===g.length&&!o&&(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsxs)("div",{className:"text-stone-500",children:["No verses found for ",a]}),(0,b.jsx)("p",{className:"text-stone-400 mt-1 text-sm",children:"This Strong's number may not exist in the database."})]})]})}function aW({verseRangeStart:a,verseRangeEnd:c,reference:d,verseText:e,perspectives:f,scholarlyData:g,onBackToReading:h}){let i=a=>a.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>"),j=a=>({catholic:"Catholic",eastern_orthodox:"Eastern Orthodox",oriental_orthodox:"Oriental Orthodox",church_of_the_east:"Church of the East",baptist:"Baptist",anglican:"Anglican",methodist:"Methodist",pentecostal:"Pentecostal",lutheran:"Lutheran",presbyterian:"Presbyterian",puritan:"Puritan",dutch_reformed:"Dutch Reformed",moravian:"Moravian"})[a.toLowerCase()]||a.charAt(0).toUpperCase()+a.slice(1);return g?(0,b.jsxs)("div",{className:"h-full flex flex-col",children:[(0,b.jsx)("div",{className:"px-8 py-6",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,b.jsx)("button",{onClick:h,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:"Home"}),(0,b.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,b.jsx)("span",{className:"text-stone-900 dark:text-stone-100 font-medium",children:"Scholarly Analysis"})]}),(0,b.jsxs)("button",{onClick:h,className:"px-2 py-1 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-xs border border-stone-200 dark:border-stone-700 transition-all flex items-center space-x-1.5",title:"Return to Reading",children:[(0,b.jsx)(r,{className:"w-3 h-3 text-stone-700 dark:text-stone-300"}),(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Return to Reading"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-medium text-stone-900 dark:text-stone-100",children:"Scholarly Analysis"}),(0,b.jsx)("p",{className:"text-sm text-stone-500 dark:text-stone-400 mt-1",children:"Multi-denominational theological consensus"})]})]})})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto font-sans",children:(0,b.jsxs)("div",{className:"space-y-8 pb-8",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Denominational Consensus"}),(0,b.jsxs)("div",{className:"text-5xl font-medium text-stone-900 dark:text-stone-100 mb-8",children:[Math.round(100*g.overall_consensus_score),"%"]}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 leading-relaxed text-lg",dangerouslySetInnerHTML:{__html:i(g.summary)}})]}),(0,b.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),g.theological_dimensions&&g.theological_dimensions.length>0&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Theological Dimensions"}),(0,b.jsx)("div",{className:"space-y-4 pb-4",children:g.theological_dimensions.map((a,c)=>(0,b.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-800/50 p-6 rounded-xl space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-xl",children:a.dimension_name}),(0,b.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-stone-200/70 dark:bg-stone-900 text-stone-700 dark:text-stone-300",children:[Math.round(100*a.consensus_score),"%"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-1",children:"Agreement:"}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed mb-4",dangerouslySetInnerHTML:{__html:i(a.agreement_summary)}})]}),a.disagreement_summary&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-1",children:"Disagreement:"}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed mb-4",dangerouslySetInnerHTML:{__html:i(a.disagreement_summary)}})]}),a.denominational_positions&&a.denominational_positions.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-2",children:"Denominational Positions:"}),(0,b.jsx)("div",{className:"space-y-2",children:a.denominational_positions.map(a=>{let[b,c]=a.split(":");return{perspective:b?.trim(),description:c?.trim()}}).filter(a=>a.perspective&&a.description).map((a,c)=>(0,b.jsxs)("div",{className:"bg-white dark:bg-stone-900 p-3 rounded-lg border-l-2 border-stone-300 dark:border-stone-500",children:[(0,b.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-sm",children:j(a.perspective)}),(0,b.jsx)("p",{className:"text-stone-600 dark:text-stone-400 text-sm mt-1",dangerouslySetInnerHTML:{__html:i(a.description)}})]},c))})]})]})]},c))})]}),(0,b.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),g.historical_trajectory&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100 mt-4",children:"Historical Development"}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 leading-relaxed text-lg mb-8",dangerouslySetInnerHTML:{__html:i(g.historical_trajectory)}}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-stone-200 dark:from-stone-700 via-stone-200 dark:via-stone-700 to-transparent"}),(0,b.jsxs)("div",{className:"space-y-8",children:[g.early_church_alignment&&g.early_church_alignment.length>0&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-2 top-0 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,b.jsxs)("div",{className:"ml-12",children:[(0,b.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Early Church"}),(0,b.jsx)("div",{className:"space-y-3",children:g.early_church_alignment.map((a,c)=>{let[d,e]=a.split(":");return(0,b.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,b.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:j(d?.trim()||"")}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:i(e?.trim()||"")}})]},c)})})]})]}),g.reformation_era_impact&&g.reformation_era_impact.length>0&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-2 top-1.5 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,b.jsxs)("div",{className:"ml-12",children:[(0,b.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Reformation Era"}),(0,b.jsx)("div",{className:"space-y-3",children:g.reformation_era_impact.map((a,c)=>{let[d,e]=a.split(":");return(0,b.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,b.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:j(d?.trim()||"")}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:i(e?.trim()||"")}})]},c)})})]})]}),g.modern_theological_development&&g.modern_theological_development.length>0&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-2 top-1.5 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,b.jsxs)("div",{className:"ml-12",children:[(0,b.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Modern Development"}),(0,b.jsx)("div",{className:"space-y-3",children:g.modern_theological_development.map((a,c)=>{let[d,e]=a.split(":");return(0,b.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,b.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:j(d?.trim()||"")}),(0,b.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:i(e?.trim()||"")}})]},c)})})]})]})]})]})]}),(0,b.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),g.creedal_connections&&g.creedal_connections.length>0&&(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Creedal Connections"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.creedal_connections.map((a,c)=>(0,b.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-800/50 p-4 rounded-xl",children:[(0,b.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100",children:a.creed_name}),(0,b.jsx)("p",{className:"text-stone-500 dark:text-stone-500 text-base mb-4",dangerouslySetInnerHTML:{__html:i(a.relevant_doctrine)}}),(0,b.jsx)("p",{className:"text-stone-600 dark:text-stone-300 text-md",dangerouslySetInnerHTML:{__html:i(a.interpretive_influence)}})]},c))})]})]})})})]}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-normal text-stone-900 dark:text-stone-100 mb-2",children:"No Scholarly Analysis Available"}),(0,b.jsx)("p",{className:"text-stone-600 dark:text-stone-400 font-normal",children:"Generate analysis to view results"})]})})}function aX({bookId:a,chapterNumber:d,bookName:e,isVisible:f,onClose:g}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{let b=async()=>{if(a&&d)try{k(!0),m(null),console.log(`Fetching chapter data for book ${a}, chapter ${d}`);let b=await fetch(`https://libro-be-761839557433.europe-west1.run.app/api/bible/books/${a}/chapters/${d}`);if(!b.ok)throw Error(`Failed to fetch chapter: HTTP ${b.status}`);let c=await b.json();console.log("Chapter data:",c);let e=c.chapter?.id||c.id;console.log(`Fetching metadata for chapter ID: ${e}`);let f=await fetch(`https://libro-be-761839557433.europe-west1.run.app/api/metadata/chapter/${e}`);if(!f.ok){if(404===f.status){let a=await f.json();a.error?.includes("metadata not available")?m("Metadata not yet generated for this chapter"):m("Chapter not found")}else throw Error(`HTTP ${f.status}`);return}let g=await f.json();i(g)}catch(a){console.error("Error fetching metadata:",a),m(`Failed to load chapter metadata: ${a instanceof Error?a.message:"Unknown error"}`)}finally{k(!1)}};a&&d&&f&&b()},[a,d,f]);let n=`About ${e} ${d}`;return(0,b.jsx)(aB,{isVisible:f,title:n,onClose:g,loadingOverlay:j?{isLoading:!0,text:"Loading chapter metadata..."}:void 0,headerAction:(0,b.jsx)(aF,{size:"sm"}),children:(0,b.jsxs)(aC,{children:[l&&(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:l})}),h&&(0,b.jsxs)(b.Fragment,{children:[h.chapter.metadata?.summary&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"Chapter Summary"}),(0,b.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:h.chapter.metadata.summary})]})}),h.book.metadata&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-4",children:"Book Information"}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Author: "}),(0,b.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:h.book.metadata.author})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Genre: "}),(0,b.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:h.book.metadata.genre})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Date: "}),(0,b.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:h.book.metadata.date_range_display})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Audience: "}),(0,b.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:h.book.metadata.primary_audience})]})]})]})}),h.chapter.themes&&h.chapter.themes.length>0&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Chapter Themes (",h.chapter.themes.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.chapter.themes.map(a=>(0,b.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:a.description,children:a.name},a.id))})]})}),h.chapter.characters&&h.chapter.characters.length>0&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Characters (",h.chapter.characters.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.chapter.characters.map(a=>(0,b.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:a.description,children:a.name},a.id))})]})}),h.chapter.locations&&h.chapter.locations.length>0&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Locations (",h.chapter.locations.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.chapter.locations.map(a=>(0,b.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:a.description,children:a.name},a.id))})]})}),h.book.themes&&h.book.themes.length>0&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Book Themes (",h.book.themes.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:h.book.themes.map(a=>(0,b.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:a.description,children:a.name},a.id))})]})})]})]})})}function aY({prophecyId:a,isVisible:d,onClose:f,onNavigateToVerse:g}){let h,[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(0),o=async()=>{if(a){l(!0);try{let b=await e.api.get(`/prophecy/prophecy/${a}`);console.log("Prophecy API response:",b),console.log("Setting prophecy details to:",b),j(b),n(0)}catch(a){console.error("Error loading prophecy details:",a),j(null)}finally{l(!1)}}};return((0,c.useEffect)(()=>{a&&d&&o()},[a,d,o]),d)?(0,b.jsx)(aB,{isVisible:d,title:"Messianic Prophecy",onClose:f,headerAction:(0,b.jsx)(aF,{size:"sm"}),children:(0,b.jsx)(aC,{children:k?(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-3/4 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-1/2 mb-4"}),(0,b.jsx)("div",{className:"h-20 bg-stone-200 dark:bg-stone-700 rounded mb-4"})]})})}):i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:i.category.replace(/_/g," ").replace(/\b\w/g,a=>a.toUpperCase())}),(0,b.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:i.claim})]})}),(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"How This Prophecy is Fulfilled"}),i.fulfillment_references[m]&&(0,b.jsx)("div",{className:"text-xs text-stone-600 dark:text-stone-400 bg-stone-100 dark:bg-stone-800 px-2 py-1 rounded-full",children:(h=i.fulfillment_references[m].fulfillment_type,`Type: ${h.replace(/\b\w/g,a=>a.toUpperCase())}`)})]}),(0,b.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:i.fulfillment_explanation})]})})}),(0,b.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50"}),i.fulfillment_references.length>1&&(0,b.jsx)(aD,{children:(0,b.jsxs)("div",{className:"pt-8",children:[(0,b.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-3",children:["Fulfillment References (",i.fulfillment_references.length,")"]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:i.fulfillment_references.map((a,c)=>(0,b.jsx)("button",{onClick:()=>n(c),className:`px-3 py-1.5 text-xs font-medium rounded-full transition-all ${m===c?"bg-stone-200 dark:bg-stone-800 text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800/50"}`,children:c+1},c))})]})}),i.fulfillment_references[m]&&(0,b.jsx)(aD,{children:(0,b.jsx)("div",{className:i.fulfillment_references.length>1?"border-t border-stone-200/50 dark:border-stone-700/50 pt-8":"pt-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"New Testament Fulfillment"}),(0,b.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400",children:[i.fulfillment_references[m].book," ",i.fulfillment_references[m].chapter,":",i.fulfillment_references[m].verse_start,i.fulfillment_references[m].verse_end!==i.fulfillment_references[m].verse_start&&`-${i.fulfillment_references[m].verse_end}`]}),(0,b.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',i.fulfillment_references[m].text,'"']}),(0,b.jsx)("button",{onClick:()=>(a=>{let b={Genesis:5,Exodus:6,Leviticus:7,Numbers:8,Deuteronomy:9,Joshua:10,Judges:11,Ruth:12,"1 Samuel":13,"2 Samuel":14,"1 Kings":15,"2 Kings":16,"1 Chronicles":17,"2 Chronicles":18,Ezra:19,Nehemiah:20,Esther:21,Job:22,Psalms:23,Proverbs:24,Ecclesiastes:25,"Song of Solomon":26,Isaiah:27,Jeremiah:28,Lamentations:29,Ezekiel:30,Daniel:31,Hosea:32,Joel:33,Amos:34,Obadiah:35,Jonah:36,Micah:37,Nahum:38,Habakkuk:39,Zephaniah:40,Haggai:41,Zechariah:42,Malachi:43,Matthew:44,Mark:45,Luke:46,John:47,Acts:48,Romans:49,"1 Corinthians":50,"2 Corinthians":51,Galatians:52,Ephesians:53,Philippians:54,Colossians:55,"1 Thessalonians":56,"2 Thessalonians":57,"1 Timothy":58,"2 Timothy":59,Titus:60,Philemon:61,Hebrews:62,James:63,"1 Peter":64,"2 Peter":65,"1 John":66,"2 John":67,"3 John":68,Jude:69,Revelation:70}[a.book];b?g(b,a.chapter,a.verse_start):console.error("Book not found:",a.book)})(i.fulfillment_references[m]),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,b.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Go to verse"})})]})})})]}):(0,b.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:"Click on a prophecy verse to see details"})})}):null}var aZ=a.i(78128);function a$(){let a=(0,d.useRouter)(),f=(0,d.useParams)(),{state:g,updateState:h}=aE(),i=f?.book,j=f?.chapter,{selectedVerseId:k,selectedVerseRange:l}=function(a,b){if(b&&b.includes("-")&&!b.includes(",")){let[a,c]=b.split("-").map(Number);return{selectedVerseId:null,selectedVerseRange:{startVerseId:a,endVerseId:c}}}return a?{selectedVerseId:parseInt(a),selectedVerseRange:null}:{selectedVerseId:null,selectedVerseRange:null}}(g.verse,g.verses),m=j?parseInt(j):null,[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(k),[t,u]=(0,c.useState)(l),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(!0),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)("catholic"),[R,S]=(0,c.useState)(["catholic","baptist"]),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)(null),[X,Y]=(0,c.useState)(null),[Z,$]=(0,c.useState)(null),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(null),ad=a=>a.toLowerCase().replace(/\s+/g,"-"),ae=(b,c,d)=>{if(p){let b=ad(p),e=`/reader/${b}/${c}${d?`?verse=${d}`:""}`;a.push(e)}},af=async(b,c,d)=>{n&&m&&p&&U({bookId:n,chapterNumber:m,bookName:p});try{let f=(await e.api.get("/bible/books")).books.find(a=>a.id===b);if(f){let b=ad(f.name),e=`/reader/${b}/${c}${d?`?verse=${d}`:""}`;a.push(e)}}catch(a){console.error("Failed to navigate to cross reference:",a)}},ag=async()=>{if(T){if(T.bookName){let b=ad(T.bookName),c=`/reader/${b}/${T.chapterNumber}`;a.push(c)}else try{let b=(await e.api.get("/bible/books")).books.find(a=>a.id===T.bookId);if(b){let c=ad(b.name),d=`/reader/${c}/${T.chapterNumber}`;a.push(d)}}catch(a){console.error("Failed to return to bookmark:",a)}U(null)}};return((0,c.useEffect)(()=>{(async()=>{if(i)try{let b=i.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),c=(await e.api.get("/bible/books")).books,d=c.find(a=>a.name===b);if(d||(d=c.find(a=>a.name.toLowerCase()===b.toLowerCase())),!d)return void a.push("/");o(d.id),q(d.name)}catch(b){console.error("Failed to load books:",b),a.push("/");return}M(!1)})()},[i,a]),(0,c.useEffect)(()=>{"prophecy"===g.sidebar&&g.prophecyId?(K(parseInt(g.prophecyId)),I(!0),y(!1),C(!1),G(!1)):"strongs"===g.sidebar&&g.strongsNumber?(E(g.strongsNumber),C(!0),y(!1),I(!1),G(!1)):"metadata"===g.sidebar&&(G(!0),y(!1),C(!1),I(!1))},[g.sidebar,g.prophecyId,g.strongsNumber]),L)?(0,b.jsx)("div",{className:"h-screen flex",children:(0,b.jsx)("div",{className:"w-full bg-white dark:bg-stone-900",children:(0,b.jsx)(aM,{})})}):n&&m?(0,b.jsxs)("div",{className:"min-h-screen",children:[(0,b.jsxs)("div",{className:"flex h-screen",children:[(0,b.jsx)("div",{className:`bg-white dark:bg-stone-900 transition-all duration-300 ${x||B||F||H?"w-2/3":"w-full"}`,children:z?(0,b.jsx)(aV,{strongsNumber:z,onNavigateToVerse:ae,onClose:()=>A(null)}):v?(0,b.jsx)(aU,{bookId:n,selectedChapter:m,onChapterSelect:a=>{ae(n,a),w(!1)}}):_?(0,b.jsx)(aW,{verseRangeStart:t?.startVerseId||r||0,verseRangeEnd:t?.endVerseId||r||0,reference:`${X} ${m}:${r}`,verseText:Z||"",perspectives:R,scholarlyData:ab,onBackToReading:()=>aa(!1)}):(0,b.jsx)(aR,{bookId:n,chapterNumber:m,selectedVerseId:r,selectedVerseRange:t,onVerseSelect:a=>{s(a),h({verse:a?a.toString():void 0,verses:void 0})},onVerseRangeSelect:u,onStrongsConcordance:A,onStrongsClick:a=>{E(a),C(!0),y(!1),G(!1),I(!1),h({sidebar:"strongs",strongsNumber:a,prophecyId:void 0})},onChapterChange:a=>{ae(n,a)},onBackToBooks:()=>{a.push("/")},onSummarize:(a,b,c)=>{y(!0),C(!1),O(!0),$(c||null),W(null),S(b),Q(b[0]||"catholic"),setTimeout(()=>O(!1),100)},onAsk:(a,b,c,d)=>{y(!0),C(!1),O(!0),W(b),$(d||null),S(c),Q(c[0]||"catholic"),setTimeout(()=>O(!1),100)},isStrongsSidebarOpen:B,bookmark:T,onReturnToBookmark:ag,onBookDataLoad:a=>Y(a),onShowMetadata:()=>{G(!0),y(!1),C(!1),I(!1),h({sidebar:"metadata",strongsNumber:void 0,prophecyId:void 0})},onShowProphecy:a=>{K(a),I(!0),y(!1),C(!1),G(!1),h({sidebar:"prophecy",prophecyId:a.toString(),strongsNumber:void 0})}})}),x&&(0,b.jsx)("div",{className:"w-1/3 h-full",children:(0,b.jsx)(aT,{selectedVerseId:r,selectedVerseRange:t,chapterNumber:m,onNavigateToVerse:af,triggerSummary:N,selectedPerspective:P,selectedPerspectives:R,isVisible:x,onClose:()=>{y(!1),W(null)},onSummaryComplete:()=>{},userQuestion:V,bookName:X||void 0,verseText:Z||void 0,onViewScholarlyAnalysis:a=>{ac(a),aa(!0)}})}),B&&D&&(0,b.jsx)("div",{className:"w-1/3 h-full",children:(0,b.jsx)(aG,{strongsNumber:D,isVisible:B,onClose:()=>{C(!1),E(null),h({sidebar:void 0,strongsNumber:void 0})},onNavigateToVerse:ae})}),F&&n&&m&&(0,b.jsx)("div",{className:"w-1/3 h-full",children:(0,b.jsx)(aX,{bookId:n,chapterNumber:m,bookName:X,isVisible:F,onClose:()=>{G(!1),h({sidebar:void 0})}})}),H&&J&&(0,b.jsx)("div",{className:"w-1/3 h-full",children:(0,b.jsx)(aY,{prophecyId:J,isVisible:H,onClose:()=>{I(!1),K(null),h({sidebar:void 0,prophecyId:void 0})},onNavigateToVerse:af})})]}),(0,b.jsx)("div",{className:"fixed bottom-4 left-4 z-50",children:(0,b.jsx)(aZ.ThemeToggle,{})})]}):(a.push("/"),null)}}];

//# sourceMappingURL=app_reader_%5Bbook%5D_%5Bchapter%5D_page_tsx_dff2c88a._.js.map