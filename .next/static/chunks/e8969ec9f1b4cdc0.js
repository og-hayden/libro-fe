(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},54858,99749,e=>{"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.s(["api",()=>n,"apiClient",()=>a],54858),e.s(["_",()=>t],99749);let r="https://libro-be-761839557433.europe-west1.run.app/api";class s{setTokens(e,t){this.accessToken=e,this.refreshToken=t,localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)}clearTokens(){this.accessToken=null,this.refreshToken=null,localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}getAuthHeaders(){let e={"Content-Type":"application/json"};return this.accessToken&&(e.Authorization="Bearer ".concat(this.accessToken)),e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseUrl).concat(e),s={"Content-Type":"application/json",...t.headers};try{let e=await fetch(r,{...t,headers:s}),n=await e.json();if(!e.ok)return{error:n.error||n.message||"Request failed"};return{data:n}}catch(e){return{error:"Network error occurred"}}}async get(e){let t=await this.request(e);if(t.error)throw Error(t.error);return t.data}async post(e,t){let r=await this.request(e,{method:"POST",body:JSON.stringify(t)});if(r.error)throw Error(r.error);return r.data}async put(e,t){return(await this.request(e,{method:"PUT",body:JSON.stringify(t)})).data}async delete(e){return(await this.request(e,{method:"DELETE"})).data}async getBooks(){return this.get("/bible/books")}async getBook(e){return this.get("/bible/books/".concat(e))}async getBookChapters(e){return this.get("/bible/books/".concat(e,"/chapters"))}async getBookChapter(e,t){return this.get("/bible/books/".concat(e,"/chapters/").concat(t))}async getChapter(e){return this.get("/bible/chapters/".concat(e))}async getChapterVerses(e){return this.get("/bible/chapters/".concat(e,"/verses"))}async getVerse(e){return this.get("/bible/verses/".concat(e))}async getVerseRange(e,t){let r=new URLSearchParams({start:e.toString()});return t&&r.append("end",t.toString()),this.get("/bible/verses/range?".concat(r))}async searchVerses(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3?arguments[3]:void 0,n=new URLSearchParams({q:e,limit:t.toString(),offset:r.toString()});return s&&n.append("book",s),this.get("/bible/search?".concat(n))}async searchVersesGrouped(e){let t=new URLSearchParams({q:e});return this.get("/bible/search/grouped?".concat(t))}async getByReference(e){let t=new URLSearchParams({ref:e});return this.get("/bible/reference?".concat(t))}async generateSummary(e,t,r){let s={verse_range_start:e};return t&&(s.verse_range_end=t),r&&(s.perspectives=r),this.post("/analysis/summary",s)}async askQuestion(e,t,r,s){let n={verse_range_start:e,question:t};return r&&(n.verse_range_end=r),s&&(n.perspectives=s),this.post("/analysis/question",n)}async lookupStrongsNumber(e){return this.get("/strongs/lookup/".concat(e))}async searchStrongs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,s=new URLSearchParams({q:e,language:t,limit:r.toString()});return this.get("/strongs/search?".concat(s))}async getConcordance(e){return this.get("/strongs/concordance/".concat(e))}async getConcordanceByBook(e,t){return this.get("/strongs/concordance/".concat(e,"/book/").concat(t))}async getVerseStrongs(e){return this.get("/strongs/verse/".concat(e,"/strongs"))}async getStrongsStats(){return this.get("/strongs/stats")}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async getCurrentUser(){return this.request("/auth/me",{headers:this.getAuthHeaders()})}constructor(e){t(this,"baseUrl",void 0),t(this,"accessToken",null),t(this,"refreshToken",null),this.baseUrl=e}}let n=new s(r),a=new s(r)},63178,e=>{"use strict";e.s(["ThemeProvider",()=>l,"useTheme",()=>c]);var t=e.i(71645),r=(e,t,r,s,n,a,o,i)=>{let c=document.documentElement,l=["light","dark"];function u(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,s=r&&a?n.map(e=>a[e]||e):n;r?(c.classList.remove(...s),c.classList.add(a&&a[t]?a[t]:t)):c.setAttribute(e,t)}),r=t,i&&l.includes(r)&&(c.style.colorScheme=r)}if(s)u(s);else try{let e=localStorage.getItem(t)||r,s=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(s)}catch(e){}},s=["light","dark"],n="(prefers-color-scheme: dark)",a="undefined"==typeof window,o=t.createContext(void 0),i={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=t.useContext(o))?e:i},l=e=>t.useContext(o)?t.createElement(t.Fragment,null,e.children):t.createElement(h,{...e}),u=["light","dark"],h=e=>{let{forcedTheme:r,disableTransitionOnChange:a=!1,enableSystem:i=!0,enableColorScheme:c=!0,storageKey:l="theme",themes:h=u,defaultTheme:p=i?"system":"light",attribute:b="data-theme",value:f,children:v,nonce:S,scriptProps:k}=e,[T,w]=t.useState(()=>m(l,p)),[C,E]=t.useState(()=>"system"===T?y():T),P=f?Object.values(f):h,A=t.useCallback(e=>{let t=e;if(!t)return;"system"===e&&i&&(t=y());let r=f?f[t]:t,n=a?g(S):null,o=document.documentElement,l=e=>{"class"===e?(o.classList.remove(...P),r&&o.classList.add(r)):e.startsWith("data-")&&(r?o.setAttribute(e,r):o.removeAttribute(e))};if(Array.isArray(b)?b.forEach(l):l(b),c){let e=s.includes(p)?p:null,r=s.includes(t)?t:e;o.style.colorScheme=r}null==n||n()},[S]),_=t.useCallback(e=>{let t="function"==typeof e?e(T):e;w(t);try{localStorage.setItem(l,t)}catch(e){}},[T]),L=t.useCallback(e=>{E(y(e)),"system"===T&&i&&!r&&A("system")},[T,r]);t.useEffect(()=>{let e=window.matchMedia(n);return e.addListener(L),L(e),()=>e.removeListener(L)},[L]),t.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?w(e.newValue):_(p))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[_]),t.useEffect(()=>{A(null!=r?r:T)},[r,T]);let O=t.useMemo(()=>({theme:T,setTheme:_,forcedTheme:r,resolvedTheme:"system"===T?C:T,themes:i?[...h,"system"]:h,systemTheme:i?C:void 0}),[T,_,r,C,i,h]);return t.createElement(o.Provider,{value:O},t.createElement(d,{forcedTheme:r,storageKey:l,attribute:b,enableSystem:i,enableColorScheme:c,defaultTheme:p,value:f,themes:h,nonce:S,scriptProps:k}),v)},d=t.memo(e=>{let{forcedTheme:s,storageKey:n,attribute:a,enableSystem:o,enableColorScheme:i,defaultTheme:c,value:l,themes:u,nonce:h,scriptProps:d}=e,m=JSON.stringify([a,n,c,s,u,l,o,i]).slice(1,-1);return t.createElement("script",{...d,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?h:"",dangerouslySetInnerHTML:{__html:"(".concat(r.toString(),")(").concat(m,")")}})}),m=(e,t)=>{let r;if(!a){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(n)),e.matches?"dark":"light")},24136,e=>{"use strict";e.s(["AuthProvider",()=>a,"useAuth",()=>o]);var t=e.i(71645),r=e.i(18566),s=e.i(54858);let n=(0,t.createContext)(void 0);function a(e){let{children:a}=e,[o,i]=(0,t.useState)(null),[c,l]=(0,t.useState)(!0);(0,r.useRouter)(),(0,t.useEffect)(()=>{(async()=>{if(localStorage.getItem("auth_token")){let e=await s.apiClient.getCurrentUser();e.data?i(e.data.user):s.apiClient.clearTokens()}l(!1)})()},[]);let u=async(e,t)=>{l(!0);let r=await s.apiClient.login({username:e,password:t});return r.data?(s.apiClient.setTokens(r.data.access_token,r.data.refresh_token),i(r.data.user),l(!1),{success:!0}):(l(!1),{success:!1,error:r.error||"Login failed"})},h=async(e,t,r)=>{l(!0);let n=await s.apiClient.register({username:e,email:t,password:r});return n.data?await u(e,r):(l(!1),{success:!1,error:n.error||"Registration failed"})};return t.default.createElement(n.Provider,{value:{user:o,loading:c,login:u,register:h,logout:()=>{s.apiClient.clearTokens(),i(null)},isAuthenticated:!!o}},a)}function o(){let e=(0,t.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5622,e=>{"use strict";e.s(["ThemeProvider",()=>s]);var t=e.i(43476),r=e.i(63178);function s(e){let{children:s}=e;return(0,t.jsx)(r.ThemeProvider,{attribute:"class",defaultTheme:"light",enableSystem:!1,disableTransitionOnChange:!0,children:s})}}]);