(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48556,e=>{"use strict";e.s(["default",()=>eX],48556);var t=e.i(43476),s=e.i(71645),r=e.i(18566),a=e.i(54858),o=e.i(75254);let n=(0,o.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),l=(0,o.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=s.default.createContext&&s.default.createContext(i),c=["attr","size","title"];function m(){return(m=Object.assign.bind()).apply(this,arguments)}function x(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?x(Object(s),!0).forEach(function(t){var r,a,o;r=e,a=t,o=s[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function u(e){return t=>s.default.createElement(p,m({attr:h({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.default.createElement(t.tag,h({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:a,size:o,title:n}=e,l=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,c),i=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.default.createElement("svg",m({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,l,{className:r,style:h(h({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),n&&s.default.createElement("title",null,n),e.children)};return void 0!==d?s.default.createElement(d.Consumer,null,e=>t(e)):t(i)}function b(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 12H3"},child:[]},{tag:"path",attr:{d:"M16 6H3"},child:[]},{tag:"path",attr:{d:"M16 18H3"},child:[]},{tag:"path",attr:{d:"M18 9v6"},child:[]},{tag:"path",attr:{d:"M21 12h-6"},child:[]}]})(e)}function g(e){return u({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function f(e){return u({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(e)}function v(e){let{isVisible:r,onSubmit:a,onCancel:o,isLoading:n=!1,placeholder:l="Ask a question about the selected verses..."}=e,[i,d]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),u=(0,s.useRef)(null);(0,s.useEffect)(()=>{r?(h(!0),setTimeout(()=>m(!0),10),setTimeout(()=>{u.current&&u.current.focus()},150)):(m(!1),setTimeout(()=>h(!1),300))},[r]),(0,s.useEffect)(()=>{u.current&&(u.current.style.height="auto",u.current.style.height="".concat(u.current.scrollHeight,"px"))},[i]);let p=()=>{i.trim()&&!n&&(a(i.trim()),d(""))};return x?(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50 transition-all duration-300 ease-out ".concat(c?"opacity-100 translate-y-0":"opacity-0 translate-y-8"),children:(0,t.jsx)("div",{className:"bg-gradient-to-t from-white dark:from-stone-900 via-white dark:via-stone-900 to-transparent pt-8 pb-6",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-6",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-600 rounded-3xl shadow-lg p-4 transition-all duration-300 ease-out transform ".concat(c?"scale-100 blur-0":"scale-95 blur-sm"),children:[(0,t.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("textarea",{ref:u,value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p()),"Escape"===e.key&&(o(),d(""))},placeholder:l,className:"w-full resize-none border-0 outline-none text-base leading-6 placeholder-stone-500 dark:placeholder-stone-400 bg-transparent text-stone-900 dark:text-stone-100 max-h-32 min-h-[28px]",rows:1,disabled:n})}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("button",{onClick:p,disabled:!i.trim()||n,className:"flex items-center justify-center w-8 h-8 bg-stone-900 dark:bg-stone-100 hover:bg-stone-800 dark:hover:bg-stone-200 disabled:bg-stone-300 dark:disabled:bg-stone-600 disabled:cursor-not-allowed text-white dark:text-stone-900 rounded-full transition-all",children:n?(0,t.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,t.jsx)(f,{className:"w-4 h-4"})})})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-stone-400 dark:text-stone-500",children:"Press Enter to send, Shift+Enter for new line, Esc to close"})]})})})}):null}var k=e.i(46932),j=e.i(88653);let y=(e,t)=>{var s;if(0===e.length)return t.classGroupId;let r=e[0],a=t.nextPart.get(r),o=a?y(e.slice(1),a):void 0;if(o)return o;if(0===t.validators.length)return;let n=e.join("-");return null==(s=t.validators.find(e=>{let{validator:t}=e;return t(n)}))?void 0:s.classGroupId},N=/^\[(.+)\]$/,w=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:_(t,e)).classGroupId=s;return}if("function"==typeof e)return S(e)?void w(e(r),t,s,r):void t.validators.push({validator:e,classGroupId:s});Object.entries(e).forEach(e=>{let[a,o]=e;w(o,_(t,a),s,r)})})},_=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},S=e=>e.isThemeGetter,C=/\s+/;function z(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=T(e))&&(r&&(r+=" "),r+=t);return r}let T=e=>{let t;if("string"==typeof e)return e;let s="";for(let r=0;r<e.length;r++)e[r]&&(t=T(e[r]))&&(s&&(s+=" "),s+=t);return s},E=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},I=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,P=/^\((?:(\w[\w-]*):)?(.+)\)$/i,M=/^\d+\/\d+$/,V=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,O=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>M.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),D=e=>!!e&&Number.isInteger(Number(e)),B=e=>e.endsWith("%")&&F(e.slice(0,-1)),J=e=>V.test(e),G=()=>!0,W=e=>L.test(e)&&!A.test(e),q=()=>!1,K=e=>O.test(e),U=e=>H.test(e),$=e=>!Z(e)&&!er(e),Q=e=>ec(e,eu,q),Z=e=>I.test(e),X=e=>ec(e,ep,W),Y=e=>ec(e,eb,F),ee=e=>ec(e,ex,q),et=e=>ec(e,eh,U),es=e=>ec(e,ef,K),er=e=>P.test(e),ea=e=>em(e,ep),eo=e=>em(e,eg),en=e=>em(e,ex),el=e=>em(e,eu),ei=e=>em(e,eh),ed=e=>em(e,ef,!0),ec=(e,t,s)=>{let r=I.exec(e);return!!r&&(r[1]?t(r[1]):s(r[2]))},em=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=P.exec(e);return!!r&&(r[1]?t(r[1]):s)},ex=e=>"position"===e||"percentage"===e,eh=e=>"image"===e||"url"===e,eu=e=>"length"===e||"size"===e||"bg-size"===e,ep=e=>"length"===e,eb=e=>"number"===e,eg=e=>"family-name"===e,ef=e=>"shadow"===e;Symbol.toStringTag;let ev=function(e){let t,s,r;for(var a=arguments.length,o=Array(a>1?a-1:0),n=1;n<a;n++)o[n-1]=arguments[n];let l=function(a){let n;return s=(t={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,s=new Map,r=new Map,a=(a,o)=>{s.set(a,o),++t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):a(e,t)}}})((n=o.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:s}=e,r=e=>{let t,s,r=[],a=0,o=0,n=0;for(let s=0;s<e.length;s++){let l=e[s];if(0===a&&0===o){if(":"===l){r.push(e.slice(n,s)),n=s+1;continue}if("/"===l){t=s;continue}}"["===l?a++:"]"===l?a--:"("===l?o++:")"===l&&o--}let l=0===r.length?e:e.substring(n),i=(s=l).endsWith("!")?s.substring(0,s.length-1):s.startsWith("!")?s.substring(1):s;return{modifiers:r,hasImportantModifier:i!==l,baseClassName:i,maybePostfixModifierPosition:t&&t>n?t-n:void 0}};if(t){let e=t+":",s=r;r=t=>t.startsWith(e)?s(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(s){let e=r;r=t=>s({className:t,parseClassName:e})}return r})(n),sortModifiers:(e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;let s=[],r=[];return e.forEach(e=>{"["===e[0]||t[e]?(s.push(...r.sort(),e),r=[]):r.push(e)}),s.push(...r.sort()),s}})(n),...(e=>{let t=(e=>{let{theme:t,classGroups:s}=e,r={nextPart:new Map,validators:[]};for(let e in s)w(s[e],r,e,t);return r})(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),y(s,t)||(e=>{if(N.test(e)){let t=N.exec(e)[1],s=null==t?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}})(e)},getConflictingClassGroupIds:(e,t)=>{let a=s[e]||[];return t&&r[e]?[...a,...r[e]]:a}}})(n)}).cache.get,r=t.cache.set,l=i,i(a)};function i(e){let a=s(e);if(a)return a;let o=((e,t)=>{let{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:o}=t,n=[],l=e.trim().split(C),i="";for(let e=l.length-1;e>=0;e-=1){let t=l[e],{isExternal:d,modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:h}=s(t);if(d){i=t+(i.length>0?" "+i:i);continue}let u=!!h,p=r(u?x.substring(0,h):x);if(!p){if(!u||!(p=r(x))){i=t+(i.length>0?" "+i:i);continue}u=!1}let b=o(c).join(":"),g=m?b+"!":b,f=g+p;if(n.includes(f))continue;n.push(f);let v=a(p,u);for(let e=0;e<v.length;++e){let t=v[e];n.push(g+t)}i=t+(i.length>0?" "+i:i)}return i})(e,t);return r(e,o),o}return function(){return l(z.apply(null,arguments))}}(()=>{let e=E("color"),t=E("font"),s=E("text"),r=E("font-weight"),a=E("tracking"),o=E("leading"),n=E("breakpoint"),l=E("container"),i=E("spacing"),d=E("radius"),c=E("shadow"),m=E("inset-shadow"),x=E("text-shadow"),h=E("drop-shadow"),u=E("blur"),p=E("perspective"),b=E("aspect"),g=E("ease"),f=E("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...k(),er,Z],y=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],w=()=>[er,Z,i],_=()=>[R,"full","auto",...w()],S=()=>[D,"none","subgrid",er,Z],C=()=>["auto",{span:["full",D,er,Z]},D,er,Z],z=()=>[D,"auto",er,Z],T=()=>["auto","min","max","fr",er,Z],I=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...w()],V=()=>[R,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...w()],L=()=>[e,er,Z],A=()=>[...k(),en,ee,{position:[er,Z]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",el,Q,{size:[er,Z]}],W=()=>[B,ea,X],q=()=>["","none","full",d,er,Z],K=()=>["",F,ea,X],U=()=>["solid","dashed","dotted","double"],ec=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],em=()=>[F,B,en,ee],ex=()=>["","none",u,er,Z],eh=()=>["none",F,er,Z],eu=()=>["none",F,er,Z],ep=()=>[F,er,Z],eb=()=>[R,"full",...w()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[J],breakpoint:[J],color:[G],container:[J],"drop-shadow":[J],ease:["in","out","in-out"],font:[$],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[J],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[J],shadow:[J],spacing:["px",F],text:[J],"text-shadow":[J],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",R,Z,er,b]}],container:["container"],columns:[{columns:[F,Z,er,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:y()}],"overflow-x":[{"overflow-x":y()}],"overflow-y":[{"overflow-y":y()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[D,"auto",er,Z]}],basis:[{basis:[R,"full","auto",l,...w()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,R,"auto","initial","none",Z]}],grow:[{grow:["",F,er,Z]}],shrink:[{shrink:["",F,er,Z]}],order:[{order:[D,"first","last","none",er,Z]}],"grid-cols":[{"grid-cols":S()}],"col-start-end":[{col:C()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":S()}],"row-start-end":[{row:C()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...I(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...I()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":I()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":w()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":w()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[n]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",s,ea,X]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,er,Y]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",B,Z]}],"font-family":[{font:[eo,Z,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,er,Z]}],"line-clamp":[{"line-clamp":[F,"none",er,Y]}],leading:[{leading:[o,...w()]}],"list-image":[{"list-image":["none",er,Z]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",er,Z]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",er,X]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[F,"auto",er,Z]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",er,Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",er,Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:A()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},D,er,Z],radial:["",er,Z],conic:[D,er,Z]},ei,et]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...U(),"hidden","none"]}],"divide-style":[{divide:[...U(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...U(),"none","hidden"]}],"outline-offset":[{"outline-offset":[F,er,Z]}],"outline-w":[{outline:["",F,ea,X]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",c,ed,es]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,ed,es]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[F,X]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",x,ed,es]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[F,er,Z]}],"mix-blend":[{"mix-blend":[...ec(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ec()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":em()}],"mask-image-linear-to-pos":[{"mask-linear-to":em()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":em()}],"mask-image-t-to-pos":[{"mask-t-to":em()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":em()}],"mask-image-r-to-pos":[{"mask-r-to":em()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":em()}],"mask-image-b-to-pos":[{"mask-b-to":em()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":em()}],"mask-image-l-to-pos":[{"mask-l-to":em()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":em()}],"mask-image-x-to-pos":[{"mask-x-to":em()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":em()}],"mask-image-y-to-pos":[{"mask-y-to":em()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[er,Z]}],"mask-image-radial-from-pos":[{"mask-radial-from":em()}],"mask-image-radial-to-pos":[{"mask-radial-to":em()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":em()}],"mask-image-conic-to-pos":[{"mask-conic-to":em()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:A()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",er,Z]}],filter:[{filter:["","none",er,Z]}],blur:[{blur:ex()}],brightness:[{brightness:[F,er,Z]}],contrast:[{contrast:[F,er,Z]}],"drop-shadow":[{"drop-shadow":["","none",h,ed,es]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",F,er,Z]}],"hue-rotate":[{"hue-rotate":[F,er,Z]}],invert:[{invert:["",F,er,Z]}],saturate:[{saturate:[F,er,Z]}],sepia:[{sepia:["",F,er,Z]}],"backdrop-filter":[{"backdrop-filter":["","none",er,Z]}],"backdrop-blur":[{"backdrop-blur":ex()}],"backdrop-brightness":[{"backdrop-brightness":[F,er,Z]}],"backdrop-contrast":[{"backdrop-contrast":[F,er,Z]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,er,Z]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,er,Z]}],"backdrop-invert":[{"backdrop-invert":["",F,er,Z]}],"backdrop-opacity":[{"backdrop-opacity":[F,er,Z]}],"backdrop-saturate":[{"backdrop-saturate":[F,er,Z]}],"backdrop-sepia":[{"backdrop-sepia":["",F,er,Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",er,Z]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",er,Z]}],ease:[{ease:["linear","initial",g,er,Z]}],delay:[{delay:[F,er,Z]}],animate:[{animate:["none",f,er,Z]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,er,Z]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:eh()}],"rotate-x":[{"rotate-x":eh()}],"rotate-y":[{"rotate-y":eh()}],"rotate-z":[{"rotate-z":eh()}],scale:[{scale:eu()}],"scale-x":[{"scale-x":eu()}],"scale-y":[{"scale-y":eu()}],"scale-z":[{"scale-z":eu()}],"scale-3d":["scale-3d"],skew:[{skew:ep()}],"skew-x":[{"skew-x":ep()}],"skew-y":[{"skew-y":ep()}],transform:[{transform:[er,Z,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:eb()}],"translate-x":[{"translate-x":eb()}],"translate-y":[{"translate-y":eb()}],"translate-z":[{"translate-z":eb()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",er,Z]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",er,Z]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[F,ea,X,Y]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ek(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return ev(function(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=function e(t){var s,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var o=t.length;for(s=0;s<o;s++)t[s]&&(r=e(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}(e))&&(r&&(r+=" "),r+=t);return r}(t))}let ej=(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:ek("rounded-2xl border border-stone-200 dark:border-stone-700 bg-white dark:bg-stone-950 shadow-sm",r),...a})});ej.displayName="Card",(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:ek("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("h3",{ref:s,className:ek("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("p",{ref:s,className:ek("text-sm text-stone-600 dark:text-stone-400",r),...a})}).displayName="CardDescription";let ey=(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:ek("p-6 pt-0",r),...a})});ey.displayName="CardContent",(0,s.forwardRef)((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)("div",{ref:s,className:ek("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";let eN={Orthodox:[{key:"eastern_orthodox",label:"Eastern Orthodox"},{key:"oriental_orthodox",label:"Oriental Orthodox"}],Catholic:[{key:"catholic",label:"Catholic"}],Protestant:[{key:"baptist",label:"Baptist"},{key:"anglican",label:"Anglican"},{key:"methodist",label:"Methodist"},{key:"pentecostal",label:"Pentecostal"},{key:"lutheran",label:"Lutheran"},{key:"presbyterian",label:"Presbyterian"},{key:"puritan",label:"Puritan"},{key:"dutch_reformed",label:"Dutch Reformed"},{key:"moravian",label:"Moravian"}]};function ew(e){let{selectedPerspectives:r,onSelectionChange:a}=e,[o,n]=(0,s.useState)(!1),[l,i]=(0,s.useState)(!1),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{o?setTimeout(()=>i(!0),10):i(!1)},[o]),(0,s.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&n(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 font-medium",children:"Perspectives"}),(0,t.jsxs)("div",{className:"relative",ref:d,children:[(0,t.jsx)("button",{onClick:()=>n(!o),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,t.jsxs)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:[r.length," selected"]})}),(0,t.jsx)(j.AnimatePresence,{children:o&&(0,t.jsx)(k.motion.div,{className:"absolute top-full right-0 mt-2 z-50",initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2,ease:[.16,1,.3,1]},children:(0,t.jsx)(ej,{className:"w-72 shadow-xl border-stone-100 dark:border-stone-700",children:(0,t.jsx)(ey,{className:"p-4",children:(0,t.jsx)(k.motion.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.15},children:Object.entries(eN).map((e,s)=>{let[o,n]=e;return(0,t.jsxs)(k.motion.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05+.03*s,duration:.2,ease:"easeOut"},children:[(0,t.jsx)("h4",{className:"text-xs font-medium text-stone-500 dark:text-stone-400 uppercase tracking-wide px-2",children:o}),(0,t.jsx)("div",{className:"space-y-1",children:n.map((e,o)=>(0,t.jsxs)(k.motion.button,{onClick:()=>{var t;return t=e.key,void(r.includes(t)?a(r.filter(e=>e!==t)):a([...r,t]))},className:"w-full flex items-center space-x-3 p-2 hover:bg-stone-50 dark:hover:bg-stone-800 rounded-lg transition-all text-left",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.08+.03*s+.02*o,duration:.2,ease:"easeOut"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,t.jsx)(k.motion.div,{className:"w-4 h-4 rounded-full transition-all ".concat(r.includes(e.key)?"bg-stone-700 dark:bg-stone-300":"border-2 border-stone-300 dark:border-stone-600 hover:border-stone-400 dark:hover:border-stone-500"),animate:{scale:r.includes(e.key)?[1,1.2,1]:1},transition:{duration:.2}}),(0,t.jsx)("span",{className:"text-sm font-medium transition-all ".concat(r.includes(e.key)?"text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400"),children:e.label})]},e.key))})]},o)})})})})})})]})]})}let e_=(0,o.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),eS=(0,o.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function eC(e){let{isVisible:s,title:r,onClose:a,children:o,loadingOverlay:n,className:l="",headerAction:i}=e;return s?(0,t.jsx)(j.AnimatePresence,{children:(0,t.jsx)(k.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2,ease:"easeOut"},className:"h-full bg-stone-50/30 dark:bg-stone-950/50 border-r border-stone-200/50 dark:border-stone-700/50 overflow-hidden ".concat(l),children:(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"px-6 py-6 bg-stone-50 dark:bg-transparent",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:["string"==typeof r?(0,t.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:r}):(0,t.jsx)("div",{className:"text-lg font-medium text-stone-900 dark:text-stone-100 flex-1",children:r}),(0,t.jsx)("button",{onClick:a,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors ml-4 p-1 rounded-lg bg-stone-200/50 dark:bg-stone-800",children:(0,t.jsx)(eS,{className:"w-5 h-5"})})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-hide relative",children:[(null==n?void 0:n.isLoading)&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-stone-950/80 backdrop-blur-sm z-10",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400",children:n.text}),"number"==typeof n.progress&&(0,t.jsx)("div",{className:"w-48",children:(0,t.jsx)("div",{className:"w-full bg-stone-200/50 dark:bg-stone-700/50 rounded-full h-1",children:(0,t.jsx)("div",{className:"bg-stone-600 dark:bg-stone-400 h-1 rounded-full transition-all duration-100 ease-out",style:{width:"".concat(n.progress,"%")}})})})]})}),o]})]})})}):null}function ez(e){let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"py-6 space-y-4 ".concat(r),children:s})}function eT(e){let{children:s,className:r=""}=e;return(0,t.jsx)("div",{className:"px-6 ".concat(r),children:s})}function eE(){let e=(0,r.useRouter)(),t=(0,r.useSearchParams)(),a=(0,s.useMemo)(()=>{let e=null==t?void 0:t.get("verse"),s=null==t?void 0:t.get("verses"),r=null==t?void 0:t.get("sidebar"),a=null==t?void 0:t.get("prophecy_id");return{verse:e||void 0,verses:s||void 0,sidebar:r||void 0,prophecyId:a||void 0,strongsNumber:(null==t?void 0:t.get("strongs"))||void 0,searchQuery:(null==t?void 0:t.get("q"))||void 0}},[t]),o=(0,s.useCallback)(s=>{let r=new URLSearchParams((null==t?void 0:t.toString())||"");void 0!==s.verse&&(s.verse?(r.set("verse",s.verse),r.delete("verses")):r.delete("verse")),void 0!==s.verses&&(s.verses?(r.set("verses",s.verses),r.delete("verse")):r.delete("verses")),void 0!==s.sidebar&&(s.sidebar?r.set("sidebar",s.sidebar):r.delete("sidebar")),void 0!==s.prophecyId&&(s.prophecyId?r.set("prophecy_id",s.prophecyId):r.delete("prophecy_id")),void 0!==s.strongsNumber&&(s.strongsNumber?r.set("strongs",s.strongsNumber):r.delete("strongs")),void 0!==s.searchQuery&&(s.searchQuery?r.set("q",s.searchQuery):r.delete("q"));let a="".concat(window.location.pathname,"?").concat(r.toString());e.replace(a)},[t,e]);return{state:a,updateState:o,generateShareUrl:(0,s.useCallback)(()=>"".concat(window.location.origin).concat(window.location.pathname).concat(window.location.search),[]),clearState:(0,s.useCallback)(()=>{e.replace(window.location.pathname)},[e])}}function eI(e){let{className:r="",size:a="md"}=e,{generateShareUrl:o}=eE(),[n,l]=(0,s.useState)(!1),i=async()=>{let e=o();try{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(s){console.error("Failed to copy URL:",s);let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),l(!0),setTimeout(()=>l(!1),2e3)}},d={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return(0,t.jsx)("button",{onClick:i,className:"".concat({sm:"w-6 h-6 text-xs",md:"w-8 h-8 text-sm",lg:"w-10 h-10 text-base"}[a]," flex items-center justify-center rounded-full bg-stone-100 dark:bg-stone-800 hover:bg-stone-200 dark:hover:bg-stone-700 text-stone-700 dark:text-stone-300 transition-all duration-200 group ").concat(r),title:n?"Link copied!":"Copy share link",children:n?(0,t.jsx)("svg",{className:d[a],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,t.jsx)("svg",{className:d[a],fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})})}function eP(e){let{strongsNumber:r,isVisible:o,onClose:n,onNavigateToVerse:l}=e,[i,d]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(!1),[u,p]=(0,s.useState)([]),[b,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(new Set),[j,y]=(0,s.useState)(0);(0,s.useEffect)(()=>{o&&r&&(m(!0),h(!1),a.api.get("/strongs/lookup/".concat(r)).then(e=>{d(e.strongs_entry)}).catch(e=>{console.error("Failed to load Strong's definition:",e)}).finally(()=>{m(!1)}))},[o,r]),(0,s.useEffect)(()=>{o||(h(!1),p([]),v(new Set))},[o]);let N=async e=>{g(!0),y(0);let t=setInterval(()=>{y(e=>e>=100?(clearInterval(t),100):e+100/300)},100);try{let s=await a.api.get("/strongs/concordance/".concat(e)),r=[];s.book_groups&&s.book_groups.forEach(e=>{e.sample_verses&&r.push(...e.sample_verses)}),p(r),h(!0),clearInterval(t),y(100)}catch(e){console.error("Failed to load all verses:",e),clearInterval(t)}finally{g(!1),setTimeout(()=>y(0),500)}},w=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!s||0===s.length)return e;let r=e.split(/\s+/),a=[];for(let e=0;e<r.length;e++){let o=r[e],n=e+1;s.includes(n)?a.push((0,t.jsx)("mark",{className:"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-300 px-1 rounded",children:o},e)):a.push(o),e<r.length-1&&a.push(" ")}return a};return(0,t.jsx)(eC,{isVisible:o,title:"Strong's Concordance",onClose:n,headerAction:(0,t.jsx)(eI,{size:"sm"}),loadingOverlay:b?{isLoading:!0,progress:j,text:j>=100?"Wrapping up...":(0,t.jsxs)(t.Fragment,{children:["Finding all instances of ",(0,t.jsx)("span",{className:"font-mono",children:r})]})}:void 0,children:(0,t.jsx)(ez,{children:c?(0,t.jsxs)(eT,{children:[(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-24 mb-4 animate-pulse"}),(0,t.jsx)("div",{className:"h-8 bg-stone-200 dark:bg-stone-700 rounded w-32 mb-3 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-20 mb-3 animate-pulse"}),(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-full animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-5/6 animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-4/5 animate-pulse"})]}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-16 animate-pulse"})]}):i?(0,t.jsxs)(eT,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:[i.strongs_number," • ",i.language]}),(0,t.jsx)("h4",{className:"text-3xl font-bold text-stone-900 dark:text-stone-100 font-serif",children:i.transliteration}),i.pronunciation&&(0,t.jsxs)("p",{className:"text-base text-stone-600 dark:text-stone-400 font-serif",children:["/",i.pronunciation,"/"]}),(0,t.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:i.definition})]}),i.part_of_speech&&(0,t.jsx)("div",{className:"pt-4 mt-4",children:(0,t.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:i.part_of_speech})})]}),!x&&!b&&(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)("button",{onClick:()=>r&&N(r),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"View All Verses"})})}),x&&u.length>0&&(0,t.jsxs)("div",{className:"pb-6 space-y-4 mt-6",children:[(0,t.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,t.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-3",children:["All Verses (",u.length,")"]})}),(e=>{let t={};return e.forEach(e=>{let s=e.book.name;t[s]||(t[s]={book:e.book,verses:[]}),t[s].verses.push(e)}),Object.values(t)})(u).map((e,s)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>(e=>{let t=new Set(f);f.has(e)?t.delete(e):t.add(e),v(t)})(e.book.name),className:"w-full flex items-center",children:[(0,t.jsx)(k.motion.div,{animate:{rotate:90*!!f.has(e.book.name)},transition:{duration:.2,ease:"easeOut"},children:(0,t.jsx)(e_,{className:"w-4 h-4 text-stone-600 dark:text-stone-400"})}),(0,t.jsx)("h5",{className:"text-md font-medium text-stone-900 dark:text-stone-100 ml-2",children:e.book.name}),(0,t.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 bg-stone-100 dark:bg-stone-800 px-2 py-1 rounded-full ml-2",children:e.verses.length})]}),(0,t.jsx)(k.motion.div,{initial:!1,animate:{height:f.has(e.book.name)?"auto":0,opacity:+!!f.has(e.book.name)},transition:{duration:.3,ease:"easeOut"},style:{overflow:"hidden"},children:(0,t.jsx)("div",{className:"space-y-2 pt-2",children:e.verses.map((e,s)=>(0,t.jsxs)(k.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.05*s,duration:.2},onClick:()=>l(e.book.id,e.chapter_info.chapter_number,e.id),className:"hover:bg-stone-200/30 dark:hover:bg-stone-800/30 cursor-pointer transition-colors rounded-lg p-3",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("span",{className:"text-md font-medium text-stone-600 dark:text-stone-400",children:e.reference})}),(0,t.jsx)("p",{className:"text-md text-stone-900 dark:text-stone-100 leading-relaxed font-serif",children:w(e.text,e.word_positions)})]},"".concat(e.id,"-").concat(s)))})})]},e.book.id))]})]}):(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:"Click on a Strong's number to see its definition"})})})}let eM=(0,o.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),eV=(0,o.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var eL=e.i(34060);function eA(e){let{pagination:s,onChapterChange:r}=e,{current_chapter:a,total_chapters:o,has_previous:n,has_next:l,previous_chapter:i,next_chapter:d,all_chapters:c}=s,m=(()=>{let e=[],t=c.indexOf(a);if(c.length>0&&e.push(c[0]),o>8){t>2&&e.push("ellipsis");let s=Math.max(1,t-1),r=Math.min(c.length-2,t+1);for(let t=s;t<=r;t++)c[t]===c[0]||c[t]===c[c.length-1]||e.includes(c[t])||e.push(c[t]);if(t<c.length-3&&e.push("ellipsis"),c.length>1){let t=c[c.length-1];e.includes(t)||e.push(t)}}else for(let t=1;t<c.length;t++)e.push(c[t]);return e})();return(0,t.jsx)("div",{className:"fixed left-6 top-1/2 transform -translate-y-1/2 z-40",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsx)(eL.Tooltip,{content:"Previous Chapter",delay:500,position:"right",children:(0,t.jsx)("button",{onClick:()=>i&&r(i),disabled:!n,className:"p-1 transition-all ".concat(n?"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300":"text-stone-200 dark:text-stone-700 cursor-not-allowed"),children:(0,t.jsx)(eM,{className:"w-3 h-3"})})}),(0,t.jsx)("div",{className:"flex flex-col items-center space-y-2",children:m.map((e,s)=>{if("ellipsis"===e)return(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600 text-xs",children:"⋯"},"ellipsis-".concat(s));let o=e===a;return(0,t.jsx)(eL.Tooltip,{content:"Go to Chapter ".concat(e),delay:500,position:"right",children:(0,t.jsx)("button",{onClick:()=>r(e),className:"w-6 h-6 rounded-full text-xs font-medium transition-all ".concat(o?"text-stone-900 dark:text-stone-100 bg-stone-100 dark:bg-stone-800":"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300 hover:bg-stone-50 dark:hover:bg-stone-800"),children:e})},e)})}),(0,t.jsx)(eL.Tooltip,{content:"Next Chapter",delay:500,position:"right",children:(0,t.jsx)("button",{onClick:()=>d&&r(d),disabled:!l,className:"p-1 transition-all ".concat(l?"text-stone-400 dark:text-stone-500 hover:text-stone-700 dark:hover:text-stone-300":"text-stone-200 dark:text-stone-700 cursor-not-allowed"),children:(0,t.jsx)(eV,{className:"w-3 h-3"})})})]})})}function eO(e){let{className:s=""}=e;return(0,t.jsx)("div",{className:"animate-pulse bg-stone-200 dark:bg-stone-700 rounded ".concat(s)})}function eH(){return(0,t.jsxs)("div",{className:"h-full flex flex-col bg-white dark:bg-stone-950",children:[(0,t.jsx)("div",{className:"px-8 py-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)(eO,{className:"h-4 w-12"}),(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,t.jsx)(eO,{className:"h-4 w-20"}),(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,t.jsx)(eO,{className:"h-4 w-16"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eO,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(eO,{className:"h-4 w-32"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-3 items-end",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eO,{className:"h-4 w-16"}),(0,t.jsxs)("div",{className:"flex items-center bg-stone-50 dark:bg-stone-900 rounded-full p-1 border border-stone-200 dark:border-stone-700",children:[(0,t.jsx)(eO,{className:"h-6 w-6 rounded-full mx-1"}),(0,t.jsx)(eO,{className:"h-6 w-6 rounded-full mx-1"}),(0,t.jsx)(eO,{className:"h-6 w-6 rounded-full mx-1"}),(0,t.jsx)(eO,{className:"h-6 w-6 rounded-full mx-1"})]})]}),(0,t.jsx)(eO,{className:"h-8 w-32 rounded-full"})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8 relative",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"space-y-0 pb-32",children:Array.from({length:12}).map((e,s)=>(0,t.jsx)("div",{className:"group relative py-3 px-4 rounded-lg hover:bg-stone-50 dark:hover:bg-stone-900 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,t.jsx)(eO,{className:"h-6 w-6 rounded-full flex-shrink-0 mt-1"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(eO,{className:"h-5 w-full"}),(0,t.jsx)(eO,{className:"h-5 w-5/6"}),(0,t.jsx)(eO,{className:"h-5 w-4/5"})]})]})},s))}),(0,t.jsx)("div",{className:"flex justify-center mt-12 mb-8",children:(0,t.jsx)(eO,{className:"h-8 w-32 rounded-full"})})]})})]})}var eR=e.i(99749);let eF=new class{getKey(e,t){return"".concat(e,":").concat(t)}set(e,t,s){let r=this.getKey(e,t);this.cache.set(r,{...s,timestamp:Date.now()})}get(e,t){let s=this.getKey(e,t),r=this.cache.get(s);return r?Date.now()-r.timestamp>this.TTL?(this.cache.delete(s),null):r:null}has(e,t){return null!==this.get(e,t)}clear(){this.cache.clear()}cleanup(){let e=Date.now();for(let[t,s]of this.cache.entries())e-s.timestamp>this.TTL&&this.cache.delete(t)}constructor(){(0,eR._)(this,"cache",new Map),(0,eR._)(this,"TTL",3e5)}};function eD(e){let{text:s,textWithStrongs:r,isVerseHovered:a,onStrongsClick:o,textSize:n}=e,l=(e=>{let t=[],s=new Map,r=e;for(let t of e.matchAll(/([\w']+)\{([HG]\d+)\}/g)){let[e,a,o]=t;s.set(a,o),r=r.replace(e,a)}return(r=(r=r.replace(/\{\([HG]\d+\)\}/g,"")).replace(/\{[HG]\d+\}/g,"")).split(/(\s+|[.,;:!?()[\]"])/).forEach(e=>{if(e){let r=e.trim();r&&s.has(r)?t.push({word:e,strongsNumber:s.get(r),isStrongsWord:!0}):t.push({word:e,strongsNumber:null,isStrongsWord:!1})}}),t})(r);return(0,t.jsx)("span",{className:"font-serif ".concat((()=>{switch(n){case"small":return"text-lg";case"medium":default:return"text-xl";case"large":return"text-2xl";case"xl":return"text-3xl"}})()," leading-relaxed text-stone-800 dark:text-stone-200"),children:l.map((e,s)=>e.isStrongsWord&&e.strongsNumber?(0,t.jsx)(eL.Tooltip,{content:"Strong's ".concat(e.strongsNumber),delay:500,position:"top",children:(0,t.jsx)(k.motion.span,{className:"cursor-pointer transition-colors duration-200",onClick:t=>{t.stopPropagation(),o(e.strongsNumber)},initial:!1,animate:{color:a?document.documentElement.classList.contains("dark")?"rgb(96 165 250)":"rgb(37 99 235)":"inherit"},transition:{duration:.2,ease:"easeOut"},children:e.word})},s):(0,t.jsx)("span",{children:e.word},s))})}setInterval(()=>{eF.cleanup()},3e5);let eB=e=>{let{message:r,isVisible:a,onClose:o,duration:n=3e3,actionButton:l}=e;return(0,s.useEffect)(()=>{if(a){let e=setTimeout(()=>{o()},n);return()=>clearTimeout(e)}},[a,n,o]),(0,t.jsx)(j.AnimatePresence,{children:a&&(0,t.jsx)(k.motion.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{type:"spring",stiffness:400,damping:30,mass:.8},className:"fixed top-6 right-6 z-50",children:(0,t.jsxs)(k.motion.div,{className:"bg-white dark:bg-stone-950 border border-stone-200 dark:border-stone-700 rounded-2xl shadow-lg px-5 py-4 flex items-center space-x-4 min-w-[320px]",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:25},children:[(0,t.jsx)("span",{className:"text-sm text-stone-700 dark:text-stone-300 font-medium flex-1",children:r}),l&&(0,t.jsx)(k.motion.button,{onClick:l.onClick,className:"flex-shrink-0 px-3 py-1.5 bg-stone-900 dark:bg-stone-100 text-white dark:text-stone-900 text-xs font-medium rounded-full hover:bg-stone-800 dark:hover:bg-stone-200 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25},children:l.text}),(0,t.jsx)(k.motion.button,{onClick:o,className:"flex-shrink-0 w-6 h-6 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 flex items-center justify-center transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25},children:(0,t.jsx)(eS,{className:"w-3.5 h-3.5 text-stone-500 dark:text-stone-400"})})]})})})};function eJ(e){let{bookId:r,chapterNumber:o,selectedVerseId:i,selectedVerseRange:d,onVerseSelect:c,onVerseRangeSelect:m,onStrongsClick:x,onChapterChange:h,onBackToBooks:u,onSummarize:p,onAsk:f,isStrongsSidebarOpen:k,bookmark:j,onReturnToBookmark:y,onBookDataLoad:N,onShowMetadata:w,onShowProphecy:_}=e,[S,C]=(0,s.useState)([]),[z,T]=(0,s.useState)(null),[E,I]=(0,s.useState)(null),[P,M]=(0,s.useState)(null),[V,L]=(0,s.useState)(!0),[A,O]=(0,s.useState)(!1),[H,R]=(0,s.useState)(!1),[F]=(0,s.useState)(""),[D,B]=(0,s.useState)(!1),[J,G]=(0,s.useState)(null),[W,q]=(0,s.useState)("large"),[K,U]=(0,s.useState)(["catholic","baptist"]),[$,Q]=(0,s.useState)(null),[Z,X]=(0,s.useState)(!1),[Y,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(!1),[er,ea]=(0,s.useState)(!1),[eo,en]=(0,s.useState)({current_chapter:1,total_chapters:1,has_previous:!1,has_next:!1,previous_chapter:null,next_chapter:null,all_chapters:[]}),el=e=>(null==P?void 0:P.fulfillment_verses)&&P.fulfillment_verses.find(t=>t.verse_numbers.includes(e))||null,ei=e=>{ee(!0),c(e),et&&es(!1)},ed=e=>{i&&e!==i&&m({startVerseId:Math.min(i,e),endVerseId:Math.max(i,e)}),ee(!1),G(null)},ec=()=>{Y||G(null)};(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&et&&es(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[et]),(0,s.useEffect)(()=>{r&&o&&(async()=>{let e=eF.get(r,o);if(e){T(e.book),I(e.chapter),C(e.verses),en(e.pagination),L(!1);return}L(!0);try{var t,s,n;let e=await a.api.get("/bible/books/".concat(r,"/chapters/").concat(o));if(eF.set(r,o,{book:e.book,chapter:e.chapter,verses:e.verses,pagination:e.pagination}),T(e.book),I(e.chapter),C(e.verses),en(e.pagination),M(e.prophecies||null),N&&(null==(t=e.book)?void 0:t.name)&&N(e.book.name),(null==(s=e.pagination)?void 0:s.has_next)&&(null==(n=e.pagination)?void 0:n.next_chapter)){let t=e.pagination.next_chapter;eF.has(r,t)||a.api.get("/bible/books/".concat(r,"/chapters/").concat(t)).then(e=>{eF.set(r,t,{book:e.book,chapter:e.chapter,verses:e.verses,pagination:e.pagination})}).catch(()=>{})}}catch(e){console.error("Failed to load chapter:",e)}finally{L(!1)}})()},[r,o,N]),(0,s.useEffect)(()=>{i&&S.length>0&&setTimeout(()=>{let e=document.getElementById("verse-".concat(i));e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)},[i,S.length]);let em=()=>{if(d){let e=[];for(let t=d.startVerseId;t<=d.endVerseId;t++)e.push(t);return e}return i?[i]:[]},ex=()=>{let e=em();return S.filter(t=>e.includes(t.id)).map(e=>e.text).join(" ")},eh=()=>{let e=em();e.length>0&&p&&(O(!0),p(e,K,ex()),setTimeout(()=>O(!1),2e3))},eu=()=>{if(!H)return void R(!0)},ep=e=>{et&&es(!1),x&&x(e)};return V?(0,t.jsx)(eH,{}):z&&E&&0!==S.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eP,{strongsNumber:$,isVisible:Z,onClose:()=>{X(!1),Q(null)},onNavigateToVerse:(e,t,s)=>{console.log("Navigate to verse:",{bookId:e,chapterNumber:t,verseId:s})}}),(0,t.jsxs)("div",{className:"h-full flex flex-col transition-all duration-300 ".concat(Z?"ml-96":""),children:[(0,t.jsx)("div",{className:"px-8 py-6 transition-all duration-300 ".concat(et?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)("button",{onClick:u,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:"Home"}),(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,t.jsx)("button",{onClick:()=>null==u?void 0:u(),className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:z.name}),(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,t.jsxs)("span",{className:"text-stone-900 dark:text-stone-100 font-medium",children:["Chapter ",E.chapter_number]})]}),j&&y&&(0,t.jsxs)("button",{onClick:y,className:"px-2 py-1 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-xs border border-stone-200 dark:border-stone-700 transition-all flex items-center space-x-1.5",title:"Return to ".concat(j.bookName||"Book"," ").concat(j.chapterNumber),children:[(0,t.jsx)(g,{className:"w-3 h-3 text-stone-700 dark:text-stone-300"}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Return to Reading"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-medium text-stone-900 dark:text-stone-100",children:[z.name," ",E.chapter_number]}),(0,t.jsxs)("p",{className:"text-sm text-stone-500 dark:text-stone-400 mt-1",children:[S.length," verses • ",z.testament," Testament"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col space-y-3 items-end",children:[z&&E&&w&&(0,t.jsxs)("button",{onClick:w,className:"flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm border transition-all bg-stone-50 dark:bg-stone-900 border-stone-200 dark:border-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:(0,t.jsx)("path",{d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25A8.966 8.966 0 0 1 18 3.75c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})}),(0,t.jsxs)("span",{className:"font-medium",children:["About ",z.name," ",E.chapter_number]})]}),(0,t.jsxs)("button",{onClick:()=>{es(!et),et||ea(!0)},className:"flex items-center space-x-2 px-3 py-1.5 rounded-full text-sm border transition-all ".concat(et?"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800 text-blue-700 dark:text-blue-300 hover:bg-blue-100 dark:hover:bg-blue-900":"bg-stone-50 dark:bg-stone-900 border-stone-200 dark:border-stone-700 text-stone-700 dark:text-stone-300 hover:bg-stone-100 dark:hover:bg-stone-800"),children:[(0,t.jsx)(l,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"font-medium",children:et?"Exit Focus":"Focus Mode"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-stone-600 dark:text-stone-400 font-medium",children:"Text Size"}),(0,t.jsx)("div",{className:"flex items-center bg-stone-50 dark:bg-stone-900 rounded-full p-1 border border-stone-200 dark:border-stone-700",children:["small","medium","large","xl"].map(e=>(0,t.jsx)("button",{onClick:()=>q(e),className:"px-3 py-1 text-xs font-medium rounded-full transition-all ".concat(W===e?"bg-white dark:bg-stone-800 text-stone-900 dark:text-stone-100 shadow-sm":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100"),children:"small"===e?"S":"medium"===e?"M":"large"===e?"L":"XL"},e))})]}),(0,t.jsx)(ew,{selectedPerspectives:K,onSelectionChange:U})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8 relative",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"space-y-0 pb-8",children:S.map((e,r)=>{let a=i===e.id,o=d&&e.id>=d.startVerseId&&e.id<=d.endVerseId,n=J===e.id,l=Y&&n&&e.id!==i,x=r>0?S[r-1]:null,h=r<S.length-1?S[r+1]:null,u=x&&d&&x.id>=d.startVerseId&&x.id<=d.endVerseId,g=h&&d&&h.id>=d.startVerseId&&h.id<=d.endVerseId,v=d?e.id===d.startVerseId:a,j=d?e.id===d.endVerseId:a,y=(a||o)&&v?"Cancel Selection":l?"End Selection":"Start Selection",N=(a||o)&&j&&(p||f);return(0,t.jsxs)(s.default.Fragment,{children:[(0,t.jsxs)("div",{id:"verse-".concat(e.id),onMouseEnter:()=>(e=>{G(e);let t=S.find(t=>t.id===e);t&&(console.log("=== VERSE HOVER DEBUG ==="),console.log("Verse ID:",e),console.log("Verse Number:",t.verse_number),console.log("Raw text:",t.text),console.log("Text with strongs:",t.text_with_strongs),console.log("Strongs numbers array:",t.strongs_numbers),console.log("========================"))})(e.id),onMouseLeave:ec,className:"group relative flex items-start space-x-3 transition-all duration-200 z-0 ".concat(a||o?"bg-blue-50 dark:bg-blue-950 px-3 ".concat(!u?"pt-3 rounded-t-lg":"pt-3"," ").concat(!g?"pb-3 rounded-b-lg":"pb-3"):"hover:bg-stone-50 dark:hover:bg-stone-800/50 p-3 rounded-lg"," ").concat(a||o?"":"mb-4"),children:[(0,t.jsx)(eL.Tooltip,{content:y,delay:500,position:"left",children:(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),a||o?(c(0),m(null),ee(!1),R(!1)):l?ed(e.id):(m(null),ei(e.id))},className:"flex-shrink-0 w-6 h-6 rounded-full transition-all duration-200 flex items-center justify-center text-xs font-medium ".concat((a||o)&&v?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border border-blue-300 dark:border-blue-700":(a||o)&&!v?"bg-blue-100 dark:bg-blue-900 opacity-0":l?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 border border-blue-300 dark:border-blue-700":"bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400 border border-stone-200 dark:border-stone-700 opacity-0 group-hover:opacity-100 hover:bg-stone-200 dark:hover:bg-stone-700"),children:(a||o)&&v?"×":(a||o)&&!v?"":(0,t.jsx)(b,{className:"w-3 h-3"})})}),(0,t.jsx)("div",{className:"flex-1 cursor-pointer",onClick:t=>{t.stopPropagation(),a||o?(c(0),m(null),ee(!1),R(!1)):l?ed(e.id):(m(null),ei(e.id))},children:(()=>{var s;let l=(s=e.verse_number,(null==P?void 0:P.prophecy_verses)&&P.prophecy_verses.find(e=>e.verse_numbers.includes(s))||null),i=el(e.verse_number),d=r>0?S[r-1]:null,c=d?el(d.verse_number):null,m=i&&(!c||c.prophecy_id!==i.prophecy_id||d&&d.verse_number!==e.verse_number-1),x=1;if(i&&m){let e=r+1;for(;e<S.length;){let t=S[e],s=el(t.verse_number);if(s&&s.prophecy_id===i.prophecy_id&&t.verse_number===S[e-1].verse_number+1)x++,e++;else break}}let h=l||i&&m;return(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("span",{className:"font-serif ".concat((()=>{switch(W){case"small":return"text-base";case"medium":default:return"text-lg";case"large":return"text-xl";case"xl":return"text-2xl"}})()," leading-relaxed ").concat(a||o?"text-blue-800 dark:text-blue-200":"text-stone-800 dark:text-stone-200"),children:[(0,t.jsx)("sup",{className:"text-xs mr-2 font-sans ".concat(a||o?"text-blue-600 dark:text-blue-400":"text-stone-500 dark:text-stone-400"),children:e.verse_number}),(0,t.jsx)(eD,{text:e.text,textWithStrongs:e.text_with_strongs,isVerseHovered:J===e.id,textSize:W,onStrongsClick:ep})]}),h&&(0,t.jsxs)("div",{className:"absolute -right-4 top-0 w-2 group",style:{height:i&&x>1?"".concat(100*x,"%"):"100%",zIndex:10},children:[(0,t.jsxs)("div",{className:"absolute top-0 right-0 w-2 h-2",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-2 h-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-0.5 h-2 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"})]}),(0,t.jsx)("div",{className:"absolute top-2 bottom-2 right-0 w-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors",children:(0,t.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-6 transition-all duration-200",children:n?(0,t.jsx)("button",{onClick:e=>{var t;e.stopPropagation(),t=(null==l?void 0:l.prophecy_id)||(null==i?void 0:i.prophecy_id)||0,_&&_(t)},className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all text-stone-700 dark:text-stone-300 font-medium whitespace-nowrap",children:"View Prophecy"}):(0,t.jsx)("div",{className:"text-md font-medium text-stone-700 dark:text-stone-300 leading-tight",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:"Messianic"}),(0,t.jsx)("div",{children:"Prophecy"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:"Prophecy"}),(0,t.jsx)("div",{children:"Fulfilled"})]})})})}),(0,t.jsxs)("div",{className:"absolute bottom-0 right-0 w-2 h-2",children:[(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-0.5 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"}),(0,t.jsx)("div",{className:"absolute bottom-0 right-0 w-0.5 h-2 bg-stone-200/50 dark:bg-stone-700/50 group-hover:bg-stone-300 dark:group-hover:bg-stone-600 transition-colors"})]})]})]})})()})]}),N&&(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2 mt-2 mb-4",children:[k&&(0,t.jsx)("span",{className:"text-xs text-stone-500 dark:text-stone-400 mr-2",children:"Close Strong's analysis to use AI features"}),0===K.length&&!k&&(0,t.jsx)("span",{className:"text-xs text-stone-500 dark:text-stone-400 mr-2",children:"Select at least 1 perspective to use AI features"}),p&&(0,t.jsxs)("button",{onClick:eh,disabled:A||k||0===K.length,className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 dark:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[A?(0,t.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,t.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:A?"Explaining...":"Explain"})]}),f&&(0,t.jsxs)("button",{onClick:eu,disabled:D||k||0===K.length||H&&!F.trim(),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 dark:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[D?(0,t.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,t.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:D?"Asking...":H?"Submit":"Ask"})]})]})]},e.id)})}),eo&&eo.has_next&&eo.next_chapter&&h&&(0,t.jsx)("div",{className:"flex justify-start mt-8 mb-8 ml-9 transition-all duration-300 ".concat(et?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"),children:(0,t.jsxs)("button",{onClick:()=>h(eo.next_chapter),className:"flex items-center space-x-2 px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:[(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Next Chapter"}),(0,t.jsx)(n,{className:"w-4 h-4 text-stone-700 dark:text-stone-300"})]})}),eo&&h&&z&&(0,t.jsx)("div",{className:"transition-all duration-300 ".concat(et?"opacity-20 blur-sm pointer-events-none":"opacity-100 blur-none"),children:(0,t.jsx)(eA,{pagination:eo,onChapterChange:h})})]})})]}),(0,t.jsx)(v,{isVisible:H,onSubmit:e=>{let t=em();t.length>0&&f&&(B(!0),f(t,e,["catholic","baptist"],ex()),R(!1),setTimeout(()=>B(!1),2e3))},onCancel:()=>{R(!1)},isLoading:D,placeholder:"Ask a question about the selected verses..."}),(0,t.jsx)(eB,{message:"Press ESC to exit Focus Mode",isVisible:er,onClose:()=>ea(!1),duration:3e3})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-normal text-stone-900 dark:text-stone-100 mb-2",children:"Welcome to Libro"}),(0,t.jsx)("p",{className:"text-stone-600 dark:text-stone-400 font-normal",children:"Select a book and chapter to begin reading"})]})})}let eG=[{key:"catholic",label:"Catholic"},{key:"eastern_orthodox",label:"Eastern Orthodox"},{key:"oriental_orthodox",label:"Oriental Orthodox"},{key:"baptist",label:"Baptist"},{key:"anglican",label:"Anglican"},{key:"methodist",label:"Methodist"},{key:"pentecostal",label:"Pentecostal"},{key:"lutheran",label:"Lutheran"},{key:"presbyterian",label:"Presbyterian"},{key:"puritan",label:"Puritan"},{key:"dutch_reformed",label:"Dutch Reformed"},{key:"moravian",label:"Moravian"}];function eW(e){var r,o,n,l;let{selectedVerseId:i,selectedVerseRange:d,chapterNumber:c,onNavigateToVerse:m,triggerSummary:x,selectedPerspective:h,selectedPerspectives:u,isVisible:p,onClose:b,onSummaryComplete:g,userQuestion:f,bookName:v,verseText:k,onViewScholarlyAnalysis:j}=e,[y,N]=(0,s.useState)(h),[w,_]=(0,s.useState)(null),[S,C]=(0,s.useState)(!1),[z,T]=(0,s.useState)("generate"),[E,I]=(0,s.useState)(null),[P,M]=(0,s.useState)(null);(0,s.useEffect)(()=>{N(h)},[h]);let V=(0,s.useCallback)(async()=>{let e=(null==d?void 0:d.startVerseId)||i,t=(null==d?void 0:d.endVerseId)||i;if(e){C(!0);try{let s={verse_range_start:e,perspectives:u};if(t&&t!==e&&(s.verse_range_end=t),f){s.question=f;let e=await a.api.post("/analysis/question",s);_(e)}else{let e=await a.api.post("/analysis/summary",s);_(e)}null==g||g(),T("generate")}catch(e){console.error("Failed to generate analysis:",e)}finally{C(!1)}}},[d,i,u,f,g]);(0,s.useEffect)(()=>{x&&(i||d)&&V()},[x,i,d,u,f,g,V]),(0,s.useEffect)(()=>{p||(_(null),T("generate"),I(null))},[p]);let L=()=>{let e=(null==d?void 0:d.startVerseId)||i,t=(null==d?void 0:d.endVerseId)||i;return e&&v&&c?{reference:d?"".concat(v," ").concat(c,":").concat(e,"-").concat(t):"".concat(v," ").concat(c,":").concat(e),startVerseId:e,endVerseId:t,verseText:k}:null},A=async()=>{if(w){T("loading");try{let e={verse_range_start:w.verse_range_start,verse_range_end:w.verse_range_end,perspectives:u,existing_analyses:Object.entries(w.perspectives).map(e=>{let[t,s]=e;return{perspective:t,response_text:s.response_text,cross_references:s.cross_references}})},t=await a.api.post("/analysis/scholarly-consensus",e);console.log("AnalysisSidebar - Full response object:",t);let s=t.data||t;s&&s.scholarly_analysis?(I(s.scholarly_analysis),M(s.denominational_analyses||{}),T("view")):(console.error("No scholarly_analysis in response:",s),T("generate"))}catch(e){console.error("Failed to generate scholarly analysis:",e),T("generate")}}};return(0,t.jsx)(eC,{isVisible:p,title:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,t.jsx)("span",{children:"AI Analysis"}),w&&u.length>1&&("view"===z||"generate"===z||"loading"===z)&&(0,t.jsx)("button",{onClick:()=>{"view"===z?null==j||j(E,P):"generate"===z&&A()},disabled:"loading"===z,className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:"loading"===z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Generating..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-stone-600 dark:text-stone-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"view"===z?"View Deep Analysis":"Deep Analysis"})]})})]}),onClose:"loading"===z?()=>{}:b,children:(0,t.jsx)(ez,{children:w||S?S?(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-xl text-stone-900 dark:text-stone-100 leading-relaxed font-medium",children:['"',f,'"']})})}),(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"space-y-3 pb-4",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:(null==(r=L())?void 0:r.reference)||"Selected Passage"}),(null==(o=L())?void 0:o.verseText)&&(0,t.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',null==(n=L())?void 0:n.verseText,'"']})]})}),(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsx)("div",{className:"text-xs text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-3",children:"Theological Perspectives"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:eG.filter(e=>u.includes(e.key)).map(e=>(0,t.jsx)("div",{className:"px-3 py-1.5 text-xs font-medium rounded-full bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-400",children:e.label},e.key))})]})}),(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-4/5"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-3/4"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"}),(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-2/3"})]}),(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8 space-y-3",children:[(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-32"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-24"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-4/5"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-28"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-3/4"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-32"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-full"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded animate-pulse w-5/6"})]})]})]})]})})})]}):w?(0,t.jsxs)(t.Fragment,{children:[f&&(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("p",{className:"text-xl text-stone-900 dark:text-stone-100 leading-relaxed font-medium",children:['"',f,'"']})})}),(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"space-y-3 pb-4",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:w.reference}),(0,t.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',w.verse_text,'"']})]})}),(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,t.jsx)("div",{className:"flex overflow-x-auto scrollbar-hide space-x-1",children:eG.filter(e=>u.includes(e.key)).map(e=>(0,t.jsx)("button",{onClick:()=>N(e.key),className:"flex-shrink-0 px-3 py-1.5 text-xs font-medium rounded-full transition-all ".concat(y===e.key?"bg-stone-200 dark:bg-stone-800 text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800/50"),children:e.label},e.key))})})}),(0,t.jsx)(eT,{children:w.perspectives[y]&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:(e=>{let s,r=[],a=0,o=/(\*\*([^*]+)\*\*|\*([^*]+)\*|_([^_]+)_)/g;for(;null!==(s=o.exec(e));)s.index>a&&r.push(e.slice(a,s.index)),s[2]?r.push((0,t.jsx)("strong",{className:"font-semibold",children:s[2]},s.index)):s[3]?r.push((0,t.jsx)("em",{className:"italic",children:s[3]},s.index)):s[4]&&r.push((0,t.jsx)("em",{className:"italic",children:s[4]},s.index)),a=s.index+s[0].length;return a<e.length&&r.push(e.slice(a)),r.length>0?r:[e]})(w.perspectives[y].response_text)})}),(null==(l=w.perspectives[y].cross_references)?void 0:l.length)>0&&(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:"Cross References"}),(0,t.jsx)("div",{className:"space-y-2",children:w.perspectives[y].cross_references.map((e,s)=>(0,t.jsxs)("div",{className:"hover:bg-stone-200/30 dark:hover:bg-stone-800/30 cursor-pointer transition-colors rounded-lg p-3",onClick:()=>(e=>{if(m&&e.book&&e.chapter&&e.verse_start){let t={Genesis:5,Exodus:6,Leviticus:7,Numbers:8,Deuteronomy:9,Joshua:10,Judges:11,Ruth:12,"1 Samuel":13,"2 Samuel":14,"1 Kings":15,"2 Kings":16,"1 Chronicles":17,"2 Chronicles":18,Ezra:19,Nehemiah:20,Esther:21,Job:22,Psalms:23,Proverbs:24,Ecclesiastes:25,"Song of Solomon":26,Isaiah:27,Jeremiah:28,Lamentations:29,Ezekiel:30,Daniel:31,Hosea:32,Joel:33,Amos:34,Obadiah:35,Jonah:36,Micah:37,Nahum:38,Habakkuk:39,Zephaniah:40,Haggai:41,Zechariah:42,Malachi:43,Matthew:44,Mark:45,Luke:46,John:47,Acts:48,Romans:49,"1 Corinthians":50,"2 Corinthians":51,Galatians:52,Ephesians:53,Philippians:54,Colossians:55,"1 Thessalonians":56,"2 Thessalonians":57,"1 Timothy":58,"2 Timothy":59,Titus:60,Philemon:61,Hebrews:62,James:63,"1 Peter":64,"2 Peter":65,"1 John":66,"2 John":67,"3 John":68,Jude:69,Revelation:70}[e.book];t&&m(t,e.chapter,e.verse_start)}})(e),children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("span",{className:"text-md font-medium text-stone-600 dark:text-stone-400",children:e.reference_display})}),(0,t.jsx)("p",{className:"text-md text-stone-900 dark:text-stone-100 leading-relaxed",children:e.relevance_note})]},s))})]})]})})]}):null:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"text-center text-stone-600 dark:text-stone-400 text-sm",children:'Click "Explain" to generate analysis'})})})})}function eq(e){let{bookId:r,selectedChapter:o,onChapterSelect:n}=e,[l,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=async()=>{c(!0);try{let e=await a.api.get("/bible/books/".concat(r,"/chapters"));i(e.chapters)}catch(e){console.error("Failed to load chapters:",e)}finally{c(!1)}};r&&e()},[r]),d)?(0,t.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,t.jsx)("div",{className:"text-stone-500 font-normal text-sm",children:"Loading chapters..."})}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-normal text-stone-900 mb-4",children:"Chapters"}),(0,t.jsx)("div",{className:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 lg:grid-cols-12 gap-6",children:l.map(e=>(0,t.jsx)("button",{onClick:()=>n(e.chapter_number),className:"aspect-square rounded-2xl transition-all hover:scale-105 ".concat(o===e.chapter_number?"bg-blue-100 text-blue-700":"bg-stone-50 text-stone-700 hover:bg-blue-50"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.chapter_number}),(0,t.jsxs)("span",{className:"text-xs text-stone-500 mt-1",children:[e.verse_count,"v"]})]})},e.id))})]})}function eK(e){let{strongsNumber:r,onNavigateToVerse:o,onClose:n}=e,[l,i]=(0,s.useState)([]),[d,c]=(0,s.useState)(new Set),[m,x]=(0,s.useState)({}),[h,u]=(0,s.useState)(new Set),[p,b]=(0,s.useState)(!0),[g,f]=(0,s.useState)(0),[v,k]=(0,s.useState)(0),[j,y]=(0,s.useState)(null),N=async()=>{b(!0);try{let e=await a.api.get("/strongs/concordance/".concat(r));e.book_groups&&(i(e.book_groups),f(e.total_books),k(e.total_verses),y(e.strongs_entry))}catch(e){console.error("Failed to load concordance:",e),i([])}finally{b(!1)}};(0,s.useEffect)(()=>{N()},[r,N]);let w=async e=>{if(!m[e]){u(t=>new Set([...t,e]));try{var t;let s=null==(t=l.find(t=>t.book.id===e))?void 0:t.book.name,o=await a.api.get("/strongs/concordance/".concat(r,"/book/").concat(s));o.results&&x(t=>({...t,[e]:o.results}))}catch(e){console.error("Failed to load book verses:",e)}finally{u(t=>{let s=new Set(t);return s.delete(e),s})}}};return p?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 text-stone-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsxs)("div",{className:"text-stone-500",children:["Loading concordance for ",r,"..."]})]})}):(0,t.jsxs)("div",{className:"px-12 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("nav",{className:"flex items-center space-x-2 text-sm mb-4",children:[(0,t.jsx)("button",{onClick:n,className:"text-stone-500 hover:text-stone-900 transition-colors",children:"Home"}),(0,t.jsx)("span",{className:"text-gray-300",children:"›"}),(0,t.jsx)("button",{onClick:n,className:"text-stone-500 hover:text-stone-900 transition-colors",children:"Reader"}),(0,t.jsx)("span",{className:"text-gray-300",children:"›"}),(0,t.jsxs)("span",{className:"text-stone-900 font-medium",children:["Strong's ",r]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-normal text-stone-900",children:"Strong's Concordance"}),(0,t.jsxs)("p",{className:"text-stone-500 mt-1 text-sm",children:[v," ",1===v?"verse":"verses"," across ",g," ",1===g?"book":"books"," for ",r]})]}),j&&(0,t.jsxs)("div",{className:"mt-10 mb-12 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-base font-mono text-stone-600 bg-stone-100 px-4 py-2 rounded-full",children:j.strongs_number}),(0,t.jsx)("span",{className:"text-sm text-stone-500 uppercase tracking-wide",children:j.language}),j.part_of_speech&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-300",children:"•"}),(0,t.jsx)("span",{className:"text-sm text-stone-500 uppercase tracking-wide",children:j.part_of_speech})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-3xl font-serif text-stone-900 font-medium",children:j.transliteration}),j.pronunciation&&(0,t.jsxs)("p",{className:"text-xl font-serif text-stone-600 italic",children:["/",j.pronunciation,"/"]}),(0,t.jsx)("p",{className:"text-xl font-serif text-gray-800 leading-relaxed",children:j.definition})]})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:l.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{onClick:()=>(e=>{let t=new Set(d);t.has(e)?t.delete(e):(t.add(e),w(e)),c(t)})(e.book.id),className:"w-full text-left hover:text-stone-600 transition-colors flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"transform transition-transform text-xs text-stone-400 ".concat(d.has(e.book.id)?"rotate-90":""),children:"▶"}),(0,t.jsx)("h3",{className:"font-normal text-stone-900",children:e.book.name}),(0,t.jsx)("span",{className:"text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded-full",children:e.verse_count})]}),h.has(e.book.id)&&(0,t.jsx)("div",{className:"text-xs text-stone-400",children:"Loading..."})]}),d.has(e.book.id)&&m[e.book.id]&&(0,t.jsx)("div",{className:"ml-4 space-y-3",children:m[e.book.id].map((s,r)=>(0,t.jsx)("div",{onClick:()=>o(s.book.id,s.chapter_info.chapter_number,s.id),className:"cursor-pointer hover:bg-stone-50 p-3 rounded-xl transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsxs)("span",{className:"text-xs bg-stone-200 text-stone-700 px-2 py-1 rounded-full mt-0.5 flex-shrink-0",children:[s.chapter_info.chapter_number,":",s.verse_number]}),(0,t.jsx)("div",{className:"font-serif text-gray-800 leading-relaxed flex-1",children:s.text})]})},"".concat(e.book.id,"-").concat(s.id,"-").concat(r)))})]},e.book.id))}),0===l.length&&!p&&(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsxs)("div",{className:"text-stone-500",children:["No verses found for ",r]}),(0,t.jsx)("p",{className:"text-stone-400 mt-1 text-sm",children:"This Strong's number may not exist in the database."})]})]})}function eU(e){let{verseRangeStart:s,verseRangeEnd:r,reference:a,verseText:o,perspectives:n,scholarlyData:l,onBackToReading:i}=e,d=e=>e.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>"),c=e=>({catholic:"Catholic",eastern_orthodox:"Eastern Orthodox",oriental_orthodox:"Oriental Orthodox",church_of_the_east:"Church of the East",baptist:"Baptist",anglican:"Anglican",methodist:"Methodist",pentecostal:"Pentecostal",lutheran:"Lutheran",presbyterian:"Presbyterian",puritan:"Puritan",dutch_reformed:"Dutch Reformed",moravian:"Moravian"})[e.toLowerCase()]||e.charAt(0).toUpperCase()+e.slice(1);return l?(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"px-8 py-6",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("nav",{className:"flex items-center space-x-2 text-sm",children:[(0,t.jsx)("button",{onClick:i,className:"text-stone-500 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 transition-colors",children:"Home"}),(0,t.jsx)("span",{className:"text-stone-300 dark:text-stone-600",children:"›"}),(0,t.jsx)("span",{className:"text-stone-900 dark:text-stone-100 font-medium",children:"Scholarly Analysis"})]}),(0,t.jsxs)("button",{onClick:i,className:"px-2 py-1 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-xs border border-stone-200 dark:border-stone-700 transition-all flex items-center space-x-1.5",title:"Return to Reading",children:[(0,t.jsx)(g,{className:"w-3 h-3 text-stone-700 dark:text-stone-300"}),(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Return to Reading"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-medium text-stone-900 dark:text-stone-100",children:"Scholarly Analysis"}),(0,t.jsx)("p",{className:"text-sm text-stone-500 dark:text-stone-400 mt-1",children:"Multi-denominational theological consensus"})]})]})})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-hide px-12 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto font-sans",children:(0,t.jsxs)("div",{className:"space-y-8 pb-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Denominational Consensus"}),(0,t.jsxs)("div",{className:"text-5xl font-medium text-stone-900 dark:text-stone-100 mb-8",children:[Math.round(100*l.overall_consensus_score),"%"]}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 leading-relaxed text-lg",dangerouslySetInnerHTML:{__html:d(l.summary)}})]}),(0,t.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),l.theological_dimensions&&l.theological_dimensions.length>0&&(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Theological Dimensions"}),(0,t.jsx)("div",{className:"space-y-4 pb-4",children:l.theological_dimensions.map((e,s)=>(0,t.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-800/50 p-6 rounded-xl space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-xl",children:e.dimension_name}),(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-stone-200/70 dark:bg-stone-900 text-stone-700 dark:text-stone-300",children:[Math.round(100*e.consensus_score),"%"]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-1",children:"Agreement:"}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed mb-4",dangerouslySetInnerHTML:{__html:d(e.agreement_summary)}})]}),e.disagreement_summary&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-1",children:"Disagreement:"}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed mb-4",dangerouslySetInnerHTML:{__html:d(e.disagreement_summary)}})]}),e.denominational_positions&&e.denominational_positions.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-base block mb-2",children:"Denominational Positions:"}),(0,t.jsx)("div",{className:"space-y-2",children:e.denominational_positions.map(e=>{let[t,s]=e.split(":");return{perspective:null==t?void 0:t.trim(),description:null==s?void 0:s.trim()}}).filter(e=>e.perspective&&e.description).map((e,s)=>(0,t.jsxs)("div",{className:"bg-white dark:bg-stone-900 p-3 rounded-lg border-l-2 border-stone-300 dark:border-stone-500",children:[(0,t.jsx)("span",{className:"font-medium text-stone-900 dark:text-stone-100 text-sm",children:c(e.perspective)}),(0,t.jsx)("p",{className:"text-stone-600 dark:text-stone-400 text-sm mt-1",dangerouslySetInnerHTML:{__html:d(e.description)}})]},s))})]})]})]},s))})]}),(0,t.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),l.historical_trajectory&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100 mt-4",children:"Historical Development"}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 leading-relaxed text-lg mb-8",dangerouslySetInnerHTML:{__html:d(l.historical_trajectory)}}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gradient-to-b from-stone-200 dark:from-stone-700 via-stone-200 dark:via-stone-700 to-transparent"}),(0,t.jsxs)("div",{className:"space-y-8",children:[l.early_church_alignment&&l.early_church_alignment.length>0&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-2 top-0 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,t.jsxs)("div",{className:"ml-12",children:[(0,t.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Early Church"}),(0,t.jsx)("div",{className:"space-y-3",children:l.early_church_alignment.map((e,s)=>{let[r,a]=e.split(":");return(0,t.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,t.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:c((null==r?void 0:r.trim())||"")}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:d((null==a?void 0:a.trim())||"")}})]},s)})})]})]}),l.reformation_era_impact&&l.reformation_era_impact.length>0&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-2 top-1.5 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,t.jsxs)("div",{className:"ml-12",children:[(0,t.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Reformation Era"}),(0,t.jsx)("div",{className:"space-y-3",children:l.reformation_era_impact.map((e,s)=>{let[r,a]=e.split(":");return(0,t.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,t.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:c((null==r?void 0:r.trim())||"")}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:d((null==a?void 0:a.trim())||"")}})]},s)})})]})]}),l.modern_theological_development&&l.modern_theological_development.length>0&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-2 top-1.5 w-4 h-4 bg-stone-200 dark:bg-stone-700 rounded-full"}),(0,t.jsxs)("div",{className:"ml-12",children:[(0,t.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100 text-lg mb-4",children:"Modern Development"}),(0,t.jsx)("div",{className:"space-y-3",children:l.modern_theological_development.map((e,s)=>{let[r,a]=e.split(":");return(0,t.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-950/20 p-4 rounded-xl border-l-3 border-stone-300 dark:border-stone-600",children:[(0,t.jsx)("div",{className:"font-medium text-stone-900 dark:text-stone-100 text-base mb-2",children:c((null==r?void 0:r.trim())||"")}),(0,t.jsx)("p",{className:"text-stone-700 dark:text-stone-300 text-base leading-relaxed",dangerouslySetInnerHTML:{__html:d((null==a?void 0:a.trim())||"")}})]},s)})})]})]})]})]})]}),(0,t.jsx)("div",{className:"border-t border-stone-200 dark:border-stone-700"}),l.creedal_connections&&l.creedal_connections.length>0&&(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-stone-900 dark:text-stone-100",children:"Creedal Connections"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.creedal_connections.map((e,s)=>(0,t.jsxs)("div",{className:"bg-stone-50 dark:bg-stone-800/50 p-4 rounded-xl",children:[(0,t.jsx)("h4",{className:"font-medium text-stone-900 dark:text-stone-100",children:e.creed_name}),(0,t.jsx)("p",{className:"text-stone-500 dark:text-stone-500 text-base mb-4",dangerouslySetInnerHTML:{__html:d(e.relevant_doctrine)}}),(0,t.jsx)("p",{className:"text-stone-600 dark:text-stone-300 text-md",dangerouslySetInnerHTML:{__html:d(e.interpretive_influence)}})]},s))})]})]})})})]}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-normal text-stone-900 dark:text-stone-100 mb-2",children:"No Scholarly Analysis Available"}),(0,t.jsx)("p",{className:"text-stone-600 dark:text-stone-400 font-normal",children:"Generate analysis to view results"})]})})}function e$(e){var r;let{bookId:a,chapterNumber:o,bookName:n,isVisible:l,onClose:i}=e,[d,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async()=>{if(a&&o)try{var e,t;x(!0),u(null),console.log("Fetching chapter data for book ".concat(a,", chapter ").concat(o));let s=await fetch("https://libro-be-761839557433.europe-west1.run.app/api/bible/books/".concat(a,"/chapters/").concat(o));if(!s.ok)throw Error("Failed to fetch chapter: HTTP ".concat(s.status));let r=await s.json();console.log("Chapter data:",r);let n=(null==(e=r.chapter)?void 0:e.id)||r.id;console.log("Fetching metadata for chapter ID: ".concat(n));let l=await fetch("https://libro-be-761839557433.europe-west1.run.app/api/metadata/chapter/".concat(n));if(!l.ok){if(404===l.status)(null==(t=(await l.json()).error)?void 0:t.includes("metadata not available"))?u("Metadata not yet generated for this chapter"):u("Chapter not found");else throw Error("HTTP ".concat(l.status));return}let i=await l.json();c(i)}catch(e){console.error("Error fetching metadata:",e),u("Failed to load chapter metadata: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{x(!1)}};a&&o&&l&&e()},[a,o,l]);let p="About ".concat(n," ").concat(o);return(0,t.jsx)(eC,{isVisible:l,title:p,onClose:i,loadingOverlay:m?{isLoading:!0,text:"Loading chapter metadata..."}:void 0,headerAction:(0,t.jsx)(eI,{size:"sm"}),children:(0,t.jsxs)(ez,{children:[h&&(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:h})}),d&&(0,t.jsxs)(t.Fragment,{children:[(null==(r=d.chapter.metadata)?void 0:r.summary)&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"Chapter Summary"}),(0,t.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:d.chapter.metadata.summary})]})}),d.book.metadata&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-4",children:"Book Information"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Author: "}),(0,t.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:d.book.metadata.author})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Genre: "}),(0,t.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:d.book.metadata.genre})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Date: "}),(0,t.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:d.book.metadata.date_range_display})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-stone-600 dark:text-stone-400",children:"Audience: "}),(0,t.jsx)("span",{className:"text-stone-900 dark:text-stone-100",children:d.book.metadata.primary_audience})]})]})]})}),d.chapter.themes&&d.chapter.themes.length>0&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Chapter Themes (",d.chapter.themes.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:d.chapter.themes.map(e=>(0,t.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:e.description,children:e.name},e.id))})]})}),d.chapter.characters&&d.chapter.characters.length>0&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Characters (",d.chapter.characters.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:d.chapter.characters.map(e=>(0,t.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:e.description,children:e.name},e.id))})]})}),d.chapter.locations&&d.chapter.locations.length>0&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Locations (",d.chapter.locations.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:d.chapter.locations.map(e=>(0,t.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:e.description,children:e.name},e.id))})]})}),d.book.themes&&d.book.themes.length>0&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium text-stone-900 dark:text-stone-100 mb-4 uppercase tracking-wide",children:["Book Themes (",d.book.themes.length,")"]}),(0,t.jsx)("div",{className:"space-y-2",children:d.book.themes.map(e=>(0,t.jsx)("div",{className:"text-sm text-stone-900 dark:text-stone-100 hover:text-stone-600 dark:hover:text-stone-400 cursor-pointer transition-colors p-2 rounded hover:bg-stone-100 dark:hover:bg-stone-800/50",title:e.description,children:e.name},e.id))})]})})]})]})})}function eQ(e){let r,{prophecyId:o,isVisible:n,onClose:l,onNavigateToVerse:i}=e,[d,c]=(0,s.useState)(null),[m,x]=(0,s.useState)(!1),[h,u]=(0,s.useState)(0),p=async()=>{if(o){x(!0);try{let e=await a.api.get("/prophecy/prophecy/".concat(o));console.log("Prophecy API response:",e),console.log("Setting prophecy details to:",e),c(e),u(0)}catch(e){console.error("Error loading prophecy details:",e),c(null)}finally{x(!1)}}};return((0,s.useEffect)(()=>{o&&n&&p()},[o,n,p]),n)?(0,t.jsx)(eC,{isVisible:n,title:"Messianic Prophecy",onClose:l,headerAction:(0,t.jsx)(eI,{size:"sm"}),children:(0,t.jsx)(ez,{children:m?(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-stone-200 dark:bg-stone-700 rounded w-3/4 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-stone-200 dark:bg-stone-700 rounded w-1/2 mb-4"}),(0,t.jsx)("div",{className:"h-20 bg-stone-200 dark:bg-stone-700 rounded mb-4"})]})})}):d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:d.category.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,t.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:d.claim})]})}),(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50 pt-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"How This Prophecy is Fulfilled"}),d.fulfillment_references[h]&&(0,t.jsx)("div",{className:"text-xs text-stone-600 dark:text-stone-400 bg-stone-100 dark:bg-stone-800 px-2 py-1 rounded-full",children:(r=d.fulfillment_references[h].fulfillment_type,"Type: ".concat(r.replace(/\b\w/g,e=>e.toUpperCase())))})]}),(0,t.jsx)("p",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed",children:d.fulfillment_explanation})]})})}),(0,t.jsx)("div",{className:"border-t border-stone-200/50 dark:border-stone-700/50"}),d.fulfillment_references.length>1&&(0,t.jsx)(eT,{children:(0,t.jsxs)("div",{className:"pt-8",children:[(0,t.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide mb-3",children:["Fulfillment References (",d.fulfillment_references.length,")"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.fulfillment_references.map((e,s)=>(0,t.jsx)("button",{onClick:()=>u(s),className:"px-3 py-1.5 text-xs font-medium rounded-full transition-all ".concat(h===s?"bg-stone-200 dark:bg-stone-800 text-stone-900 dark:text-stone-100":"text-stone-600 dark:text-stone-400 hover:text-stone-900 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800/50"),children:s+1},s))})]})}),d.fulfillment_references[h]&&(0,t.jsx)(eT,{children:(0,t.jsx)("div",{className:d.fulfillment_references.length>1?"border-t border-stone-200/50 dark:border-stone-700/50 pt-8":"pt-8",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 uppercase tracking-wide",children:"New Testament Fulfillment"}),(0,t.jsxs)("div",{className:"text-sm text-stone-600 dark:text-stone-400",children:[d.fulfillment_references[h].book," ",d.fulfillment_references[h].chapter,":",d.fulfillment_references[h].verse_start,d.fulfillment_references[h].verse_end!==d.fulfillment_references[h].verse_start&&"-".concat(d.fulfillment_references[h].verse_end)]}),(0,t.jsxs)("blockquote",{className:"text-lg text-stone-900 dark:text-stone-100 leading-relaxed font-serif border-l-2 border-stone-200/50 dark:border-stone-700/50 pl-4",children:['"',d.fulfillment_references[h].text,'"']}),(0,t.jsx)("button",{onClick:()=>(e=>{let t={Genesis:5,Exodus:6,Leviticus:7,Numbers:8,Deuteronomy:9,Joshua:10,Judges:11,Ruth:12,"1 Samuel":13,"2 Samuel":14,"1 Kings":15,"2 Kings":16,"1 Chronicles":17,"2 Chronicles":18,Ezra:19,Nehemiah:20,Esther:21,Job:22,Psalms:23,Proverbs:24,Ecclesiastes:25,"Song of Solomon":26,Isaiah:27,Jeremiah:28,Lamentations:29,Ezekiel:30,Daniel:31,Hosea:32,Joel:33,Amos:34,Obadiah:35,Jonah:36,Micah:37,Nahum:38,Habakkuk:39,Zephaniah:40,Haggai:41,Zechariah:42,Malachi:43,Matthew:44,Mark:45,Luke:46,John:47,Acts:48,Romans:49,"1 Corinthians":50,"2 Corinthians":51,Galatians:52,Ephesians:53,Philippians:54,Colossians:55,"1 Thessalonians":56,"2 Thessalonians":57,"1 Timothy":58,"2 Timothy":59,Titus:60,Philemon:61,Hebrews:62,James:63,"1 Peter":64,"2 Peter":65,"1 John":66,"2 John":67,"3 John":68,Jude:69,Revelation:70}[e.book];t?i(t,e.chapter,e.verse_start):console.error("Book not found:",e.book)})(d.fulfillment_references[h]),className:"px-3 py-1.5 bg-stone-50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-full text-sm border border-stone-200 dark:border-stone-700 transition-all",children:(0,t.jsx)("span",{className:"text-stone-700 dark:text-stone-300 font-medium",children:"Go to verse"})})]})})})]}):(0,t.jsx)("div",{className:"text-sm text-stone-600 dark:text-stone-400 py-8 text-center",children:"Click on a prophecy verse to see details"})})}):null}var eZ=e.i(53561);function eX(){let e=(0,r.useRouter)(),o=(0,r.useParams)(),{state:n,updateState:l}=eE(),i=null==o?void 0:o.book,d=null==o?void 0:o.chapter,{selectedVerseId:c,selectedVerseRange:m}=function(e,t){if(t&&t.includes("-")&&!t.includes(",")){let[e,s]=t.split("-").map(Number);return{selectedVerseId:null,selectedVerseRange:{startVerseId:e,endVerseId:s}}}return e?{selectedVerseId:parseInt(e),selectedVerseRange:null}:{selectedVerseId:null,selectedVerseRange:null}}(n.verse,n.verses),x=d?parseInt(d):null,[h,u]=(0,s.useState)(null),[p,b]=(0,s.useState)(null),[g,f]=(0,s.useState)(c),[v,k]=(0,s.useState)(m),[j,y]=(0,s.useState)(!1),[N,w]=(0,s.useState)(!1),[_,S]=(0,s.useState)(null),[C,z]=(0,s.useState)(!1),[T,E]=(0,s.useState)(null),[I,P]=(0,s.useState)(!1),[M,V]=(0,s.useState)(!1),[L,A]=(0,s.useState)(null),[O,H]=(0,s.useState)(!0),[R,F]=(0,s.useState)(!1),[D,B]=(0,s.useState)("catholic"),[J,G]=(0,s.useState)(["catholic","baptist"]),[W,q]=(0,s.useState)(null),[K,U]=(0,s.useState)(null),[$,Q]=(0,s.useState)(null),[Z,X]=(0,s.useState)(null),[Y,ee]=(0,s.useState)(!1),[et,es]=(0,s.useState)(null),er=e=>e.toLowerCase().replace(/\s+/g,"-"),ea=(t,s,r)=>{if(p){let t=er(p),a="/reader/".concat(t,"/").concat(s).concat(r?"?verse=".concat(r):"");e.push(a)}},eo=async(t,s,r)=>{h&&x&&p&&q({bookId:h,chapterNumber:x,bookName:p});try{let o=(await a.api.get("/bible/books")).books.find(e=>e.id===t);if(o){let t=er(o.name),a="/reader/".concat(t,"/").concat(s).concat(r?"?verse=".concat(r):"");e.push(a)}}catch(e){console.error("Failed to navigate to cross reference:",e)}},en=async()=>{if(W){if(W.bookName){let t=er(W.bookName),s="/reader/".concat(t,"/").concat(W.chapterNumber);e.push(s)}else try{let t=(await a.api.get("/bible/books")).books.find(e=>e.id===W.bookId);if(t){let s=er(t.name),r="/reader/".concat(s,"/").concat(W.chapterNumber);e.push(r)}}catch(e){console.error("Failed to return to bookmark:",e)}q(null)}};return((0,s.useEffect)(()=>{(async()=>{if(i)try{let t=i.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),s=(await a.api.get("/bible/books")).books,r=s.find(e=>e.name===t);if(r||(r=s.find(e=>e.name.toLowerCase()===t.toLowerCase())),!r)return void e.push("/");u(r.id),b(r.name)}catch(t){console.error("Failed to load books:",t),e.push("/");return}H(!1)})()},[i,e]),(0,s.useEffect)(()=>{"prophecy"===n.sidebar&&n.prophecyId?(A(parseInt(n.prophecyId)),V(!0),w(!1),z(!1),P(!1)):"strongs"===n.sidebar&&n.strongsNumber?(E(n.strongsNumber),z(!0),w(!1),V(!1),P(!1)):"metadata"===n.sidebar&&(P(!0),w(!1),z(!1),V(!1))},[n.sidebar,n.prophecyId,n.strongsNumber]),O)?(0,t.jsx)("div",{className:"h-screen flex",children:(0,t.jsx)("div",{className:"w-full bg-white dark:bg-stone-900",children:(0,t.jsx)(eH,{})})}):h&&x?(0,t.jsxs)("div",{className:"min-h-screen",children:[(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)("div",{className:"bg-white dark:bg-stone-900 transition-all duration-300 ".concat(N||C||I||M?"w-2/3":"w-full"),children:_?(0,t.jsx)(eK,{strongsNumber:_,onNavigateToVerse:ea,onClose:()=>S(null)}):j?(0,t.jsx)(eq,{bookId:h,selectedChapter:x,onChapterSelect:e=>{ea(h,e),y(!1)}}):Y?(0,t.jsx)(eU,{verseRangeStart:(null==v?void 0:v.startVerseId)||g||0,verseRangeEnd:(null==v?void 0:v.endVerseId)||g||0,reference:"".concat($," ").concat(x,":").concat(g),verseText:Z||"",perspectives:J,scholarlyData:et,onBackToReading:()=>ee(!1)}):(0,t.jsx)(eJ,{bookId:h,chapterNumber:x,selectedVerseId:g,selectedVerseRange:v,onVerseSelect:e=>{f(e),l({verse:e?e.toString():void 0,verses:void 0})},onVerseRangeSelect:k,onStrongsConcordance:S,onStrongsClick:e=>{E(e),z(!0),w(!1),P(!1),V(!1),l({sidebar:"strongs",strongsNumber:e,prophecyId:void 0})},onChapterChange:e=>{ea(h,e)},onBackToBooks:()=>{e.push("/")},onSummarize:(e,t,s)=>{w(!0),z(!1),F(!0),X(s||null),U(null),G(t),B(t[0]||"catholic"),setTimeout(()=>F(!1),100)},onAsk:(e,t,s,r)=>{w(!0),z(!1),F(!0),U(t),X(r||null),G(s),B(s[0]||"catholic"),setTimeout(()=>F(!1),100)},isStrongsSidebarOpen:C,bookmark:W,onReturnToBookmark:en,onBookDataLoad:e=>Q(e),onShowMetadata:()=>{P(!0),w(!1),z(!1),V(!1),l({sidebar:"metadata",strongsNumber:void 0,prophecyId:void 0})},onShowProphecy:e=>{A(e),V(!0),w(!1),z(!1),P(!1),l({sidebar:"prophecy",prophecyId:e.toString(),strongsNumber:void 0})}})}),N&&(0,t.jsx)("div",{className:"w-1/3 h-full",children:(0,t.jsx)(eW,{selectedVerseId:g,selectedVerseRange:v,chapterNumber:x,onNavigateToVerse:eo,triggerSummary:R,selectedPerspective:D,selectedPerspectives:J,isVisible:N,onClose:()=>{w(!1),U(null)},onSummaryComplete:()=>{},userQuestion:K,bookName:$||void 0,verseText:Z||void 0,onViewScholarlyAnalysis:e=>{es(e),ee(!0)}})}),C&&T&&(0,t.jsx)("div",{className:"w-1/3 h-full",children:(0,t.jsx)(eP,{strongsNumber:T,isVisible:C,onClose:()=>{z(!1),E(null),l({sidebar:void 0,strongsNumber:void 0})},onNavigateToVerse:ea})}),I&&h&&x&&(0,t.jsx)("div",{className:"w-1/3 h-full",children:(0,t.jsx)(e$,{bookId:h,chapterNumber:x,bookName:$,isVisible:I,onClose:()=>{P(!1),l({sidebar:void 0})}})}),M&&L&&(0,t.jsx)("div",{className:"w-1/3 h-full",children:(0,t.jsx)(eQ,{prophecyId:L,isVisible:M,onClose:()=>{V(!1),A(null),l({sidebar:void 0,prophecyId:void 0})},onNavigateToVerse:eo})})]}),(0,t.jsx)("div",{className:"fixed bottom-4 left-4 z-50",children:(0,t.jsx)(eZ.ThemeToggle,{})})]}):(e.push("/"),null)}}]);